{"items":[{"tags":["julia"],"owner":{"reputation":15,"user_id":9519541,"user_type":"registered","profile_image":"https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128","display_name":"Luke ","link":"https://stackoverflow.com/users/9519541/luke"},"is_answered":true,"view_count":23,"answer_count":1,"score":1,"last_activity_date":1605567324,"creation_date":1605549325,"last_edit_date":1605552275,"question_id":64863201,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64863201/checking-for-diagonal-dominate-matrix-in-julia","title":"Checking for Diagonal Dominate Matrix In Julia","body":"<p>I'm working on a project in Julia where I create a 13x13 matrix with random numbers, then I check if that matrix is diagonally dominate. I'm pretty new with Julia, but I've worked a lot with some other prgrams so this program is kind of an iteration off of python.</p>\n<pre><code>function checkD()\nA=2*rand(13,13).-1\nG=A'A\nj=1\ni=1\nfor i=1:13\n    sum = 0\n    for j=1:13\n        sum = sum + abs.(G[i,j])\n    end\n    sum = sum - abs.(G[i,i])\n    if(abs.(G[i,i]) &lt; sum)\n        return false\n    end\n    return true\nend\n</code></pre>\n<p>I understand the declaration of the j and i at the start is a little redundant but for now I leave them there. My issue is that I keep getting false even though I know that the matrix G=A'A is diagonally dominate.</p>\n"},{"tags":["dataframe","julia"],"owner":{"reputation":61,"user_id":14648485,"user_type":"registered","profile_image":"https://www.gravatar.com/avatar/bfa652b8e82666305d2b5e51efa55bef?s=128&d=identicon&r=PG&f=1","display_name":"YuliyaCl","link":"https://stackoverflow.com/users/14648485/yuliyacl"},"is_answered":true,"view_count":30,"answer_count":1,"score":4,"last_activity_date":1605540926,"creation_date":1605536853,"last_edit_date":1605537509,"question_id":64859819,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64859819/error-during-precompiling-dataframes-jl-undefvarerror-composedfunction-not-def","title":"Error during precompiling DataFrames.jl: UndefVarError: ComposedFunction not defined","body":"<p>I'm using Julia 1.5.3 and last versions of module DataFrames.jl (v0.22.0) and Compat.jl (v3.23.0).\nI've added DataFrames into my project enviroment as usual:</p>\n<pre><code>]add DataFrames\n</code></pre>\n<p>Last time I've used DataFrames package in July 2020.\nNow when i'm trying to use (call <code>using DataFrames</code>) the package I have an error:</p>\n<pre><code>[ Info: Precompiling DataFrames [a93c6f00-e57d-5684-b7b6-d8193f3e46c0]\nERROR: LoadError: LoadError: UndefVarError: ComposedFunction not defined\nStacktrace:\n [1] top-level scope at C:\\Users\\yzh\\.julia\\packages\\DataFrames\\X0xNW\\src\\other\\utils.jl:82\n [2] include(::Function, ::Module, ::String) at .\\Base.jl:380\n [3] include at .\\Base.jl:368 [inlined]\n [4] include(::String) at C:\\Users\\yzh\\.julia\\packages\\DataFrames\\X0xNW\\src\\DataFrames.jl:1\n [5] top-level scope at C:\\Users\\yzh\\.julia\\packages\\DataFrames\\X0xNW\\src\\DataFrames.jl:94\n [6] include(::Function, ::Module, ::String) at .\\Base.jl:380\n [7] include(::Module, ::String) at .\\Base.jl:368\n [8] top-level scope at none:2\n [9] eval at .\\boot.jl:331 [inlined]\n [10] eval(::Expr) at .\\client.jl:467\n [11] top-level scope at .\\none:3\nin expression starting at C:\\Users\\yzh\\.julia\\packages\\DataFrames\\X0xNW\\src\\other\\utils.jl:79\nin expression starting at C:\\Users\\yzh\\.julia\\packages\\DataFrames\\X0xNW\\src\\DataFrames.jl:94\n</code></pre>\n<p><em>But tests <code>Pkg.test(&quot;DataFrames&quot;)</code> have passed corretly without an errors!</em></p>\n<p>I think I have some troubles with the Compat - package. When I'm trying to export <code>ComposedFunction</code> separetly:</p>\n<pre><code>using Compat: ComposedFunction\n</code></pre>\n<p>I also have an error:</p>\n<pre><code>UndefVarError: ComposedFunction not defined\nin include_string at base\\loading.jl:1088\n</code></pre>\n<p>I've tried several things:</p>\n<ul>\n<li>remove the packages and install again;</li>\n<li><code>]up</code></li>\n<li><code>Pkg.resolve</code></li>\n<li>update Julia from 1.5.2 to 1.5.3</li>\n<li>restart computer, of course</li>\n<li>delete all folders besides &quot;dev&quot; and &quot;environment&quot; from .julia directory</li>\n</ul>\n<p>but the errors still exist.</p>\n<p>Thanks for your help.</p>\n"},{"tags":["dataframe","julia"],"owner":{"reputation":43,"user_id":9553646,"user_type":"registered","profile_image":"https://lh5.googleusercontent.com/-8QKKiq-FUQg/AAAAAAAAAAI/AAAAAAAAAAA/u79oUzUdqXo/photo.jpg?sz=128","display_name":"Yilong Liang","link":"https://stackoverflow.com/users/9553646/yilong-liang"},"is_answered":true,"view_count":27,"accepted_answer_id":64859390,"answer_count":2,"score":4,"last_activity_date":1605537306,"creation_date":1605532992,"last_edit_date":1605533408,"question_id":64858824,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64858824/count-the-number-of-unique-values-by-group","title":"Count the number of unique values by group","body":"<p>I am aware of <code>combine(groupby(df, :A), nrow=&gt;:count)</code> to count the number of rows for different <code>:A</code>. However, what should be the correct implementation to get the number of unique values of <code>:B</code> for different <code>:A</code>? Basically, I am looking for the counterpart for R: <code>df %&gt;% group_by(A) %&gt;% summarize(n_unique = n_distinct(B))</code>. Thanks!</p>\n"},{"tags":["arrays","julia","indices"],"owner":{"reputation":363,"user_id":3897624,"user_type":"registered","accept_rate":80,"profile_image":"https://www.gravatar.com/avatar/799a58601428bcce8812f50667cb086c?s=128&d=identicon&r=PG&f=1","display_name":"PrinceOfBorgo","link":"https://stackoverflow.com/users/3897624/princeofborgo"},"is_answered":true,"view_count":20,"accepted_answer_id":64858532,"answer_count":2,"score":3,"last_activity_date":1605532994,"creation_date":1605528623,"question_id":64857778,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64857778/build-array-iterating-over-multiple-indices-in-julia","title":"Build array iterating over multiple indices in Julia","body":"<p>I want to obtain the following result with a more elegant syntax</p>\n<pre><code>julia&gt; collect(Iterators.flatten([[(x,y) for y in 1:x] for x in 1:3]))\n6-element Array{Tuple{Int64,Int64},1}:\n (1, 1)\n (2, 1)\n (2, 2)\n (3, 1)\n (3, 2)\n (3, 3)\n</code></pre>\n<p>I tried something like <code>[(x,y) for y in 1:x, x in 1:3]</code> but I get <code>ERROR: UndefVarError: x not defined</code>.</p>\n"},{"tags":["visual-studio-code","julia","jupyter"],"owner":{"reputation":193,"user_id":6397624,"user_type":"registered","profile_image":"https://www.gravatar.com/avatar/c596640626024818419e17c6953a6c9c?s=128&d=identicon&r=PG&f=1","display_name":"manthano","link":"https://stackoverflow.com/users/6397624/manthano"},"is_answered":false,"view_count":15,"answer_count":0,"score":0,"last_activity_date":1605519662,"creation_date":1605519662,"question_id":64855647,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64855647/vs-code-output-of-jupyter-cell-cannot-be-rendered-text-latex-renderer","title":"VS-Code Output of Jupyter Cell cannot be rendered (text/latex renderer)","body":"<p>I have a Jupyter notebook with a Julia kernel running in VS-Code. My problem is, that the output of some cells cannot be rendered. Following screenshot shows the problem:</p>\n<p><a href=\"https://i.stack.imgur.com/sdDSc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sdDSc.png\" alt=\"enter image description here\" /></a></p>\n<p>The output of the matrix gets correctly rendered. However, the expression <code>1+1</code> fails with &quot;&quot;No renderer could be found for MIME type: text/latex&quot;. The last line shows, that <code>1+1</code> renders if I select the &quot;text/plain&quot; - renderer.</p>\n<p>Since I do not want to manually change the renderer each time I want to know how I can provide a &quot;text/latex&quot; renderer to VS-Code?</p>\n"},{"tags":["function","copy","julia"],"owner":{"reputation":120,"user_id":12512271,"user_type":"registered","profile_image":"https://www.gravatar.com/avatar/ba03ef2f989384dc090582f8465bdf92?s=128&d=identicon&r=PG&f=1","display_name":"Levasco","link":"https://stackoverflow.com/users/12512271/levasco"},"is_answered":true,"view_count":35,"answer_count":1,"score":3,"last_activity_date":1605522258,"creation_date":1605518078,"question_id":64855265,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64855265/is-there-a-way-to-deepcopy-a-function-in-julia","title":"Is there a way to deepcopy a function in julia?","body":"<p>Pretty much what the title says. If I assign <code>g=f</code> or do <code>g=deepcopy(f)</code>, the result is the same: redefining <code>f</code> will redefine <code>g</code> too. Is there a way to make g an independent copy of f?</p>\n<pre><code>julia&gt; function f(x) x end\nf (generic function with 1 method)\n\njulia&gt; f(1)\n1\n\njulia&gt; g = deepcopy(f)\nf (generic function with 1 method)\n\njulia&gt; g(1)\n1\n\njulia&gt; function f(x) x+1 end\nf (generic function with 1 method)\n\njulia&gt; f(1)\n2\n\njulia&gt; g(1)\n2\n</code></pre>\n"},{"tags":["julia","warnings","visualization","vega-lite"],"owner":{"reputation":559,"user_id":4723902,"user_type":"registered","profile_image":"https://lh4.googleusercontent.com/-vfG8ulwYyrU/AAAAAAAAAAI/AAAAAAAAABU/gSDYYJLNjew/photo.jpg?sz=128","display_name":"Davi Barreira","link":"https://stackoverflow.com/users/4723902/davi-barreira"},"is_answered":true,"view_count":28,"answer_count":1,"score":1,"last_activity_date":1605545577,"creation_date":1605471455,"last_edit_date":1605545577,"question_id":64849353,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64849353/julia-vegalite-jl-how-to-disable-the-warninigs","title":"Julia VegaLite.jl - How to disable the warninigs?","body":"<p>When using the VegaLite.jl library for Julia, it is common to get several warnings when the visualization is not fully specified. For example, if I run the following code:</p>\n<pre><code>using VegaLite\nα  = rand(10,2)\nβ  = rand(10,2)\nv1 = @vlplot(:circle,x=α[:,1],y=α[:,2])\nv2 = @vlplot(mark={&quot;type&quot;=:circle,color=&quot;red&quot;},x=β[:,1],y=β[:,2])\n@vlplot()+v1+v2\n</code></pre>\n<p>This will plot things correctly, but I get several warnings saying &quot;QARN Missing type for channel &quot;x&quot;, using &quot;quantitative&quot; instead&quot;.</p>\n<p>Is there a way to disable this warnings? I mean, is there a way to suppress them? Note that I'm using Jupyter Notebook.</p>\n"},{"tags":["python","c++","matlab","julia","wrapper"],"owner":{"reputation":11,"user_id":14643467,"user_type":"registered","profile_image":"https://lh3.googleusercontent.com/a-/AOh14Gg_TQDw_XuJs9ceHLwTa7zG_zeg5jfftMgL4PluufE=s96-c=k-s128","display_name":"Gian Mario Manca","link":"https://stackoverflow.com/users/14643467/gian-mario-manca"},"is_answered":false,"view_count":35,"answer_count":0,"score":1,"last_activity_date":1605468584,"creation_date":1605461725,"last_edit_date":1605468584,"question_id":64847649,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64847649/trigger-wrapped-c-c-rebuild-when-instantiating-a-julia-object-that-calls-th","title":"Trigger wrapped C/C++ rebuild when instantiating a Julia &quot;object&quot; (that calls the wrapped C/C++ functions)","body":"<p>I found the following paradigm quite useful and I would love to be able to reproduce it somehow in Julia to take advantage of Julia's speed and C wrapping capabilities.</p>\n<p>I normally maintain a set of objects in Python/Matlab that represent the blocks (algorithms) of a pipeline. Set up unit-tests etc.</p>\n<p>Then develop the equivalent C/C++ code by having equivalent python/Matlab objects (same API) that wrap C/C++ to implement the same functionality and have to pass the same tests (by this I mean the exact same tests written in python/Matlab where either I generate synthetic data or I load recorded data).</p>\n<p>I will maintain the full-python and python/C++ objects in parallel enforcing parity with extensive test suites. The python only and python/C++ versions are fully interchangeable.</p>\n<p>Every time I need to modify the behavior of the pipeline, or debug an issue, I first use the fully pythonic version of the specific object/block I need to modify, typically in conjunction with other blocks running in python/C++ mode for speed, then update the tests to match the behavior of the modified python block and finally update the C++ version until it reaches parity and passes the updated tests.</p>\n<p>Evey time I instantiate the Python/C++ version on the block, in the constructor I run a &quot;make&quot; that rebuilds the C++ code if there was any modification. To make sure I always test the latest version of the C++.</p>\n<p>Is there any elegant way to reproduce the same paradigm with the Julia/C++ combination? Maintaining julia/C++ versions in parallel via automatic testing.\nI.e. how do I check/rebuild the C++ only once when I instantiate the object and not per function call (it would be way too slow).</p>\n<p>I guess I could call the &quot;make&quot; once at the test-suite level before I run all the tests of the different blocks. But then I will have to manually call it if I'm writing a quick python script for a debugging session.</p>\n<p>Let's pick the example of a little filter object with a configure method that changes the filter parameters and a filter method the filters the incoming data.</p>\n<p>We will have something like:</p>\n<pre><code>f1 = filter('python');\nf2 = filter('C++'); % rebuild C++ as needed\n\nf1.configure(0.5);\nf2.configure(0.5);\n\nx1 = data;\nx2 = data;\n\nxf1 = f1.filter(x1);\nxf2 = f2.filter(x2);\n\nassert( xf1 == xf2 )\n</code></pre>\n<p>In general there will be a bunch of tests that instantiate the objects in both python-only mode or python/C++ mode and test them.</p>\n<p>I guess what I'm trying to say is that since in Julia the paradigm is to have a filter type, and then &quot;external&quot; methods that modify/use the filter type there is no centralized way to check/rebuild all its methods that wrap C code. Unless the type contains a list of variable that keep track of the relevant methods. Seems awkward.</p>\n<p>I would appreciate comments / ideas.</p>\n"},{"tags":["julia"],"owner":{"reputation":4734,"user_id":7619808,"user_type":"registered","profile_image":"https://i.stack.imgur.com/gHvtS.png?s=128&g=1","display_name":"logankilpatrick","link":"https://stackoverflow.com/users/7619808/logankilpatrick"},"is_answered":true,"view_count":18,"answer_count":1,"score":2,"last_activity_date":1605454171,"creation_date":1605454171,"question_id":64846259,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64846259/julia-package-has-no-known-versions-when-trying-to-add-a-package","title":"Julia Package has &quot;no known versions!&quot; when trying to add a package","body":"<p>I am getting an error when I try to add a package in Julia. It is saying the package I am trying to add has &quot;no known versions!&quot;. What can I do to resolve this?</p>\n"},{"tags":["arrays","julia","sparse-matrix","eigenvalue"],"owner":{"reputation":103,"user_id":14150686,"user_type":"registered","profile_image":"https://www.gravatar.com/avatar/9d0aec58f3a2305ad930ef07c2095004?s=128&d=identicon&r=PG&f=1","display_name":"yosuga","link":"https://stackoverflow.com/users/14150686/yosuga"},"is_answered":true,"view_count":50,"answer_count":1,"score":3,"last_activity_date":1605480340,"creation_date":1605452949,"last_edit_date":1605453974,"question_id":64846026,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64846026/julia-all-eigenvalues-of-large-sparse-matrix","title":"Julia: all eigenvalues of large sparse matrix","body":"<p>I have a large sparse matrix, for example, 128000×128000 SparseMatrixCSC{Complex{Float64},Int64} with 1376000 stored entries.<br />\nHow to quickly get all eigenvalues of the sparse matrix ? Is it possible ?</p>\n<p>I tried <code>eigs</code> for 128000×128000 with 1376000 stored entries but the kernel was dead.<br />\nI use a mac book pro with 16GB memory and Julia 1.3.1 on jupyter notebook.</p>\n"},{"tags":["multithreading","performance","julia","benchmarking"],"owner":{"reputation":17,"user_id":9720161,"user_type":"registered","profile_image":"https://www.gravatar.com/avatar/e36db6dc5aa331de9d07f526b4bc0a8c?s=128&d=identicon&r=PG&f=1","display_name":"AliG","link":"https://stackoverflow.com/users/9720161/alig"},"is_answered":true,"view_count":36,"accepted_answer_id":64846241,"answer_count":1,"score":1,"last_activity_date":1605454079,"creation_date":1605450505,"question_id":64845551,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64845551/julia-1-5-2-performance-questions","title":"Julia 1.5.2 Performance Questions","body":"<p>I am currently attempting to implement a metaheuristic (genetic) algorithm. In this venture i also want to try and create somewhat fast and efficient code. However, my experience in creating efficient coding is not very great. I was therefore wondering if some people could give some &quot;quick tips&quot; to increase the efficiency of my code. I have created a small functional example of my code which contains most of the elements that the code will contain i regards to preallocating arrays, custom mutable structs, random numbers, pushing into arrays etc.</p>\n<p>The options that I have already attempted to explore are options in regards to the package &quot;StaticArrays&quot;. However many of my arrays must be mutable (so we need MArrays) and many of them will become very large &gt; 100. The documentation of StaticArrays specify that the size of the StaticArrays package must remain small to remain efficient.</p>\n<p>According to the documentation Julia 1.5.2 should be thread safe in regards to rand(). I have therefor attempted to multithread for-loops in my functions to make them run faster. And this results in a  slight performance increase .</p>\n<p>However if people can se a more efficient way of allocating Arrays or pushing in SpotPrices into an array it would be greatly appreciated! Any other performance tips are also very welcome!</p>\n<pre><code># Packages\nclearconsole()\nusing DataFrames\nusing Random\nusing BenchmarkTools\nRandom.seed!(42)\n\ndf = DataFrame( SpotPrice = convert(Array{Float64}, rand(-266:500,8832)),\nmonth = repeat([1,2,3,4,5,6,7,8,9,10,11,12]; outer = 736),\nhour = repeat([1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]; outer = 368))\n\n# Data structure for the prices per hour\nmutable struct SpotPrices\n    hour :: Array{Float64,1}\nend\n\n# Fill-out data structure\nfunction setup_prices(df::DataFrame)\n    prices = []\n    for i in 1:length(unique(df[:,3]))\n        push!(prices, SpotPrices(filter(row -&gt; row.hour == i, df).SpotPrice))\n    end\n    return prices\nend\n\nprices = setup_prices(df)\n\n# Sampler function\nfunction MC_Sampler(prices::Vector{Any}, sample_size::Int64)\n    # Picking the samples\n    tmp = zeros(sample_size, 24)\n\n    # Sampling per hour\n    for i in 1:24\n        tmp[:,i] = rand(prices[i].hour, sample_size)\n    end\n    return tmp\nend\n\nsamples = MC_Sampler(prices, 100)\n\n@btime setup_prices(df)\n@btime MC_Sampler(prices,100)\n\nfunction setup_prices_par(df::DataFrame)\n    prices = []\n    @sync Threads.@threads for i in 1:length(unique(df[:,3]))\n        push!(prices, SpotPrices(filter(row -&gt; row.hour == i, df).SpotPrice))\n    end\n    return prices\nend\n\n\n# Sampler function\nfunction MC_Sampler_par(prices::Vector{Any}, sample_size::Int64)\n    # Picking the samples\n    tmp = zeros(sample_size, 24)\n\n    # Sampling per hour\n    @sync Threads.@threads for i in 1:24\n         tmp[:,i] = rand(prices[i].hour, sample_size)\n    end\n    return tmp\nend\n\n@btime setup_prices_par(df)\n@btime MC_Sampler_par(prices,100)\n</code></pre>\n"},{"tags":["multithreading","julia","gurobi","silent","julia-jump"],"owner":{"reputation":17,"user_id":9720161,"user_type":"registered","profile_image":"https://www.gravatar.com/avatar/e36db6dc5aa331de9d07f526b4bc0a8c?s=128&d=identicon&r=PG&f=1","display_name":"AliG","link":"https://stackoverflow.com/users/9720161/alig"},"is_answered":true,"view_count":25,"accepted_answer_id":64850702,"answer_count":1,"score":0,"last_activity_date":1605481434,"creation_date":1605444800,"last_edit_date":1605452158,"question_id":64844626,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64844626/julia-1-5-2-suppressing-gurobi-academic-license-in-parallel","title":"Julia 1.5.2 Suppressing Gurobi academic license in parallel","body":"<p>I am attempting to suppress the academic license output from Gurobi. I have to solve an LP several times in my code and the print statement is slow and annoying to look at. I have created a working example. I wish to be able to execute the LP in parallel in Julia to increase performance. To suppress the output I use the package <code>Suppressor</code>. This seems to work well when running only using a single processor. However if I wrap the LP in a function and insert this into a loop and attempt to run the model in parallel I get an error:</p>\n<pre><code>TaskFailedException: SystemError: dup: bad file descriptor\n</code></pre>\n<p>Running the code works fine when using Windows 7 and an i5 processor.</p>\n<p>Running the code on MAC OS 10.13.6 with an 2.66 GHz Intel core 2 duo  does not work.</p>\n<p>I am capable of running the code in parallel on MAC when it is not suppressed. Is it just because the hardware in ancient (the cores might not be able to communicate correctly to share information)? or is there a fix to this issue?</p>\n<p>Additional information:</p>\n<pre><code>Julia: 1.5.2\nGurobi License version: 9.0.1\nJuMP: 0.21.5\nSuppressor: 0.2.0\n\n\nclearconsole()\nusing Gurobi\nusing JuMP\nusing Suppressor\nusing BenchmarkTools\n\n\n# Create LP frunction\nfunction runlp()\n\n    @suppress begin\n        global primal = Model(Gurobi.Optimizer)\n        set_optimizer_attributes(primal, &quot;OutputFlag&quot; =&gt; 0)\n        set_optimizer_attributes(primal, &quot;Threads&quot; =&gt; 1)\n    end\n\n    # Declare variables with lower bound 0\n    @variable(primal, x1 &gt;= 0)\n    @variable(primal, x2 &gt;= 0)\n    @variable(primal, -Inf &lt;= x3 &lt;= Inf)\n\n    # Declare minimization of costs objective function\n    @objective(primal, Min, -5*x1+4*x2-3*x3)\n\n    # Declare constraint for minimum of lubricant 1\n    @constraint(primal, Cons_1,2*x1-3*x2-x3 &lt;= 5)\n    @constraint(primal, Cons_2,4*x1-x2+2*x3 &gt;= 11)\n    @constraint(primal, Cons_3,-3*x1+4*x2+2*x3 &lt;= 8)\n    @constraint(primal, Cons_4,6*x1-5*x2+x3 == 1)\n\n    # Optimize model\n    optimize!(primal)\n\nend\n\n\n# Create function to ru LP multiple times\nfunction testing()\n\n    for i in 1:100\n        runlp()\n    end\n\nend\n\ntesting()\n\n@btime testing()\n\nfunction testing_par()\n\n    @sync Threads.@threads for i in 1:100\n        runlp()\n    end\n\nend\n\n@btime testing_par()\n</code></pre>\n"},{"tags":["jupyter-notebook","anaconda","latex","julia","jupyter"],"owner":{"reputation":73,"user_id":14135555,"user_type":"registered","profile_image":"https://graph.facebook.com/4267556193316153/picture?type=large","display_name":"Jorge Paredes","link":"https://stackoverflow.com/users/14135555/jorge-paredes"},"is_answered":true,"view_count":21,"accepted_answer_id":64842141,"answer_count":1,"score":1,"last_activity_date":1605431107,"creation_date":1605413097,"question_id":64841101,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64841101/how-can-i-use-the-package-latexstrings-in-jupyter","title":"How can I use the Package LaTexStrings in Jupyter?","body":"<p>I am using Jupyter with the Julia Pro Kernel. And I want to just pass from a Julia Script to a Notebook.  (I am getting to jupyter via anaconda)</p>\n<p>I use the command\n<code>using LaTeXStrings</code> to charge that package in the jl file.  I use that command in order to put <code>\\alpha</code> in the code and automatically appears the greek symbol α.</p>\n<p>But when I am doing the same in Jupyter I just can't get the α.</p>\n<p>I get this error as an output from that code chunk.</p>\n<pre><code>syntax: &quot;\\&quot; is not a unary operator\n\nStacktrace:\n [1] top-level scope at In[18]:1\n [2] include_string(::Function, ::Module, ::String, ::String) at .\\loading.jl:1091\n [3] execute_code(::String, ::String) at C:\\Users\\jparedesm\\.julia\\packages\\IJulia\\rWZ9e\\src\\execute_request.jl:27\n [4] execute_request(::ZMQ.Socket, ::IJulia.Msg) at C:\\Users\\jparedesm\\.julia\\packages\\IJulia\\rWZ9e\\src\\execute_request.jl:86\n [5] #invokelatest#1 at .\\essentials.jl:710 [inlined]\n [6] invokelatest at .\\essentials.jl:709 [inlined]\n [7] eventloop(::ZMQ.Socket) at C:\\Users\\jparedesm\\.julia\\packages\\IJulia\\rWZ9e\\src\\eventloop.jl:8\n [8] (::IJulia.var&quot;#15#18&quot;)() at .\\task.jl:356\n</code></pre>\n<p>Does anyone know how can I get the greek alphabet in Jupyter? It'll be very helpful!</p>\n"},{"tags":["julia","juno-ide"],"owner":{"reputation":151,"user_id":6126849,"user_type":"registered","profile_image":"https://www.gravatar.com/avatar/12b263b69c2ab7181a00d604d3d43347?s=128&d=identicon&r=PG","display_name":"birrellwalsh","link":"https://stackoverflow.com/users/6126849/birrellwalsh"},"is_answered":false,"view_count":17,"answer_count":0,"score":1,"last_activity_date":1605404915,"creation_date":1605400786,"last_edit_date":1605404915,"question_id":64840156,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64840156/in-juliapro-how-do-i-get-registered-packages","title":"In JuliaPro, how do I get registered Packages?","body":"<p>I am new to JuliaPro and Julia 1.5.2, and trying to load Plots (and then Plotly(JS)) in Juno.</p>\n<p>When I begin my script with:</p>\n<pre><code>using Pkg\nPkg.add(&quot;Plots&quot;)\n</code></pre>\n<p>which is code I copied from <a href=\"https://www.math.purdue.edu/%7Eallen450/Plotting-Tutorial.html\" rel=\"nofollow noreferrer\">https://www.math.purdue.edu/~allen450/Plotting-Tutorial.html</a></p>\n<p>I got &quot;<em>expected package <code>Plots [91a5bcdd]</code> to be registered</em>&quot;</p>\n<p>Hoping to clear things up, I typed Pkg.update() in the REPL, and got an error that said</p>\n<p><em>Updating registry at <code>C:\\Users\\Administrator\\.julia\\registries\\JuliaComputingRegistry</code><br />\nERROR: expected package <code>Juno [e5e0dc1b]</code> to be registered</em></p>\n<p>As I said, I am using Juno in Atom, and a number of brief programs I wrote worked fine.  Not sure what I do to get this registering thing to clear up</p>\n"},{"tags":["parallel-processing","julia","mpi","packagecompiler.jl"],"owner":{"reputation":55,"user_id":12616456,"user_type":"registered","profile_image":"https://www.gravatar.com/avatar/a0cdd5cc36b72299e81f60277302bf65?s=128&d=identicon&r=PG&f=1","display_name":"kirklong","link":"https://stackoverflow.com/users/12616456/kirklong"},"is_answered":false,"view_count":25,"answer_count":0,"score":2,"last_activity_date":1605390102,"creation_date":1605390102,"question_id":64838920,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64838920/using-custom-system-image-from-packagecompiler-jl-in-conjunction-with-mpi-in-j","title":"using custom system image (from PackageCompiler.jl) in conjunction with MPI in Julia","body":"<p>I’ve been recently playing with the MPI wrappers for Julia (MPI.jl) – yesterday I built a dumb test problem in both C and Julia and was comparing performance, and Julia is pretty close to C which is impressive!</p>\n<p><a href=\"https://i.stack.imgur.com/dxW2B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dxW2B.png\" alt=\"Julia/C parallel comparison\" /></a></p>\n<p>I thought I might be able to close the gap even further by using the PackageCompiler.jl package to speed up the initial loading cost in Julia, but I can’t get it to play nicely. If I run:</p>\n<p><code>julia --sysimage myImage.so --project myProject.jl</code></p>\n<p>it works fine (where myImage.so is a system image I generated with PackageCompiler.jl), but if I run:</p>\n<p><code>mpiexec -n np julia --sysimage myImage.so --project myProject.jl</code></p>\n<p>I get a signal 6 abort. This is my first experience with both the MPI.jl and PackageCompiler.jl packages, so any tips/insights are much appreciated!</p>\n"},{"tags":["julia"],"owner":{"reputation":5456,"user_id":7210250,"user_type":"registered","accept_rate":50,"profile_image":"https://www.gravatar.com/avatar/f9e36056bc843650f91411fcb4d7bb58?s=128&d=identicon&r=PG&f=1","display_name":"Georgery","link":"https://stackoverflow.com/users/7210250/georgery"},"is_answered":false,"view_count":25,"closed_date":1605373855,"answer_count":0,"score":2,"last_activity_date":1605370349,"creation_date":1605370349,"question_id":64835955,"link":"https://stackoverflow.com/questions/64835955/type-hierarchy-for-containers-values-confusing","closed_reason":"Duplicate","title":"Type Hierarchy for Containers Values confusing","body":"<p><code>Integer</code> is a super type of <code>Int64</code>. Hence, the following should work</p>\n<pre><code>function foo(a::Integer)\n    return 42\nend\n\nfoo(2)\n</code></pre>\n<p>and indeed it does:</p>\n<pre><code>42\n</code></pre>\n<p>The method used is</p>\n<pre><code>@which foo(2)\nfoo(a::Integer)\n</code></pre>\n<p>But why then is the same not possible for an array/vector?</p>\n<pre><code>function bar(a::Vector{Integer})\n    return 42\nend\n\nbar([2, 3])\nERROR: MethodError: no method matching bar(::Array{Int64,1})\n</code></pre>\n"},{"tags":["julia","pluto"],"owner":{"reputation":21,"user_id":13845575,"user_type":"registered","profile_image":"https://lh5.googleusercontent.com/-I-zh2RvLfGQ/AAAAAAAAAAI/AAAAAAAAAAA/AMZuuclULfwiLyMOAkYfc2vcRi8LwYEW3Q/photo.jpg?sz=128","display_name":"Johannes Lange","link":"https://stackoverflow.com/users/13845575/johannes-lange"},"is_answered":true,"view_count":36,"answer_count":1,"score":2,"last_activity_date":1605449926,"creation_date":1605369630,"last_edit_date":1605449926,"question_id":64835852,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64835852/cant-install-packages-in-julia","title":"Can&#39;t install Packages in Julia","body":"<p>As the title says I can't seem to be able to install packages in Julia using Pluto anymore even though until a few days ago everything worked as it should.<a href=\"https://i.stack.imgur.com/PxKkc.png\" rel=\"nofollow noreferrer\">Error Code</a>\n<a href=\"https://i.stack.imgur.com/4CwIQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4CwIQ.png\" alt=\"New Error\" /></a></p>\n"},{"tags":["julia"],"owner":{"reputation":5456,"user_id":7210250,"user_type":"registered","accept_rate":50,"profile_image":"https://www.gravatar.com/avatar/f9e36056bc843650f91411fcb4d7bb58?s=128&d=identicon&r=PG&f=1","display_name":"Georgery","link":"https://stackoverflow.com/users/7210250/georgery"},"is_answered":true,"view_count":38,"answer_count":2,"score":5,"last_activity_date":1605449594,"creation_date":1605367661,"question_id":64835503,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64835503/delete-a-method-in-julia","title":"Delete a Method in Julia","body":"<p>I have a function with 2 methods</p>\n<pre><code>function foo(a::Integer) 42 end\nfunction foo(a::String) 24 end\n\nfoo(2)\n42\n\nfoo(&quot;a&quot;)\n24\n</code></pre>\n<p>How can I delete just one of the two methods?</p>\n"},{"tags":["julia","julia-jump"],"owner":{"reputation":55,"user_id":14043923,"user_type":"registered","profile_image":"https://www.gravatar.com/avatar/467bd2a824ffa962aed91610d0c252fc?s=128&d=identicon&r=PG&f=1","display_name":"rmae19","link":"https://stackoverflow.com/users/14043923/rmae19"},"is_answered":true,"view_count":35,"accepted_answer_id":64831623,"answer_count":1,"score":4,"last_activity_date":1605336973,"creation_date":1605327553,"last_edit_date":1605336973,"question_id":64830895,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64830895/how-to-specify-a-variable-in-jump-that-can-only-be-0-or-1","title":"How to specify a variable in JuMP that can only be 0 or 1?","body":"<p>What is the syntax for specifying a variable in a JuMP optimization problem that can only be 0 or 1?</p>\n<p>I am using the following code:</p>\n<pre><code>@variable(mod, X == 1 || 0)\n</code></pre>\n<p>but it is not working.</p>\n"},{"tags":["julia"],"owner":{"reputation":137,"user_id":14593287,"user_type":"registered","profile_image":"https://i.stack.imgur.com/yAVKW.jpg?s=128&g=1","display_name":"Daniel Kaszyński","link":"https://stackoverflow.com/users/14593287/daniel-kaszy%c5%84ski"},"is_answered":true,"view_count":271,"accepted_answer_id":64829001,"answer_count":4,"score":9,"last_activity_date":1605320909,"creation_date":1605305179,"question_id":64828632,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64828632/julia-combining-vectors-into-the-matrix","title":"Julia - combining vectors into the matrix","body":"<p>Let's assume I have two vectors <code>x = [1, 2]</code> and <code>y = [3, 4]</code>. How to best combine them to get a matrix <code>m = [1 2; 3 4]</code> in Julia Programming language? Thanks in advance for your support.</p>\n"},{"tags":["julia","mathematical-optimization","julia-jump"],"owner":{"reputation":755,"user_id":2704964,"user_type":"registered","profile_image":"https://www.gravatar.com/avatar/79d2160e8cd355915182506411e69489?s=128&d=identicon&r=PG&f=1","display_name":"Anton Xue","link":"https://stackoverflow.com/users/2704964/anton-xue"},"is_answered":true,"view_count":49,"accepted_answer_id":64850720,"answer_count":1,"score":1,"last_activity_date":1605481557,"creation_date":1605301765,"question_id":64828076,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64828076/bound-2-norm-in-julia-jump","title":"Bound 2-norm in Julia JuMP","body":"<p>Using Julia's JuMP library, I have a matrix-valued variable <code>A</code> on which I would like to impose a 2-norm constraint (equivalently: the spectral / operator norm). However I am not sure how to do this. Below is a minimal-running code of something I would <em>like</em> to write</p>\n<pre><code>using LinearAlgebra\nusing JuMP\nusing MathOptInterface\nusing MosekTools\nusing Mosek\n\nmodel = Model(optimizer_with_attributes(\n        Mosek.Optimizer,\n        &quot;QUIET&quot; =&gt; false,\n        &quot;INTPNT_CO_TOL_DFEAS&quot; =&gt; 1e-9\n    ))\n\nmaxnorm = 3.0\n# We want opnorm(A) &lt;= maxnorm\n@variable(model, A[1:4, 1:5])\n# @SDconstraint(model, A' * A &lt;= maxnorm^2) # Mathematically valid, but not accepted!\n\n# Make dummy variable and constraint to satisfy\n@variable(model, x)\n@constraint(model, x &gt;= 10)\n\n@objective(model, Min, x)\n\noptimize!(model)\n</code></pre>\n<p>A very overkill way to do this is via</p>\n<pre><code>@constraint(model, [maxnorm; vec(A)] in SecondOrderCone())\n</code></pre>\n<p>as this bounds the Frobenius norm instead --- but this is not preferable. I would greatly appreciate any insights into how this can be done.</p>\n"},{"tags":["dataframe","julia","dataframes.jl"],"owner":{"reputation":267,"user_id":13495049,"user_type":"registered","profile_image":"https://lh3.googleusercontent.com/a-/AOh14Gj3qs80qkhjXyUsORWB4ZWnzUBsUQwQzvAsSElIvg=k-s128","display_name":"Nathan Boyer","link":"https://stackoverflow.com/users/13495049/nathan-boyer"},"is_answered":true,"view_count":28,"accepted_answer_id":64824280,"answer_count":1,"score":3,"last_activity_date":1605293174,"creation_date":1605281263,"question_id":64823551,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64823551/return-copy-of-a-dataframe-that-contains-only-rows-with-missing-data-in-julia","title":"Return copy of a DataFrame that contains only rows with missing data in Julia","body":"<p>I am looking for the opposite of the <code>dropmissing</code> function in DataFrames.jl so that the user knows where to look to fix their bad data. It seems like this should be easy, but the <code>filter</code> function expects a column to be specified and I cannot get it to iterate over all columns.</p>\n<pre><code>julia&gt; df=DataFrame(a=[1, missing, 3], b=[4, 5, missing])\n3×2 DataFrame\n│ Row │ a       │ b       │\n│     │ Int64?  │ Int64?  │\n├─────┼─────────┼─────────┤\n│ 1   │ 1       │ 4       │\n│ 2   │ missing │ 5       │\n│ 3   │ 3       │ missing │\n\njulia&gt; filter(x -&gt; ismissing(eachcol(x)), df)\nERROR: MethodError: no method matching eachcol(::DataFrameRow{DataFrame,DataFrames.Index})\n\njulia&gt; filter(x -&gt; ismissing.(x), df)\nERROR: ArgumentError: broadcasting over `DataFrameRow`s is reserved\n</code></pre>\n<p>I am basically trying to recreate the <code>disallowmissing</code> function, but with a more useful error message.</p>\n"},{"tags":["import","macros","namespaces","julia"],"owner":{"reputation":21,"user_id":14633127,"user_type":"registered","profile_image":"https://lh3.googleusercontent.com/-iKKx1HzRNeY/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBukuR5nnKjAftWhAoWmFbNxLlSkg/mo/photo.jpg?sz=128","display_name":"NewHorizons","link":"https://stackoverflow.com/users/14633127/newhorizons"},"is_answered":true,"view_count":32,"answer_count":1,"score":2,"last_activity_date":1605282492,"creation_date":1605281073,"question_id":64823505,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64823505/is-it-possible-to-directly-import-a-macro-in-julia","title":"Is it possible to directly import a macro in Julia?","body":"<p>I would like to load a single macro from a package without including all of the other parts of the package. Just like how a specific function can be imported, like:</p>\n<pre><code>using Package1: function1 \n</code></pre>\n<p>The reason why I would like this, is not only to load solely the desired part of the package, but also to show explicitly where the macro is loaded from.</p>\n"},{"tags":["io","julia","protocol-buffers","gzip"],"owner":{"reputation":345,"user_id":2918960,"user_type":"registered","accept_rate":80,"profile_image":"https://www.gravatar.com/avatar/13e1fdd2e0707d1417aff29eb3eadb5c?s=128&d=identicon&r=PG&f=1","display_name":"Unis","link":"https://stackoverflow.com/users/2918960/unis"},"is_answered":true,"view_count":25,"answer_count":1,"score":1,"last_activity_date":1605405595,"creation_date":1605278841,"question_id":64822972,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64822972/julia-using-protobuf-to-read-messages-from-gzipped-file","title":"Julia: Using ProtoBuf to read messages from gzipped file","body":"<p>A sensor provides a stream of frames containing object coordinates, which are stored in ProtoBuf format in a gzipped file. I would like to read this file in Julia.</p>\n<p>Using protoc, I have generated the Protobuf files for both Python and Julia, <code>coordinate_push.py</code> and <code>coordinate_push.jl</code></p>\n<p>My Python code is as follows:</p>\n<pre><code>frameList = []\n\nwith gzip.open(filePath) as f:\n    data = f.read()\n    next_pos, pos = 0, 0\n\n    while pos &lt; len(data):\n        msg = coordinate_push.CoordinatesFrame()\n\n        next_pos, pos = _DecodeVarint32(data, pos)\n        msg.ParseFromString(data[pos:pos + next_pos])\n\n        frameList.append(msg)\n\n        pos += next_pos\n</code></pre>\n<p>I'd like to rewrite the above in Julia, and don't know where to start. Part of the problem is that I haven't fully understood the Python script (IO is not my strong point).</p>\n<p>I understand that I need:</p>\n<ul>\n<li>to open the gzip file, presumably using <code>using GZip; file = GZip.open(file_path, &quot;r&quot;)</code></li>\n<li>to read in the data, along the lines of <code>using ProtoBuf; data = readproto(iob, CoordinatesFrame())</code></li>\n</ul>\n<p>What I don't understand is:</p>\n<ul>\n<li>how to define <code>iob</code>, and especially how to link it to <code>file</code> (in the <a href=\"https://github.com/JuliaIO/ProtoBuf.jl/blob/master/USAGE.md\" rel=\"nofollow noreferrer\">Julia Protobuf manual</a>,  we had <code>iob = PipeBuffer()</code>, but here it's a gzip-file that we'd like to read)</li>\n<li>how to replicate the while-loop in Julia, and in particular the mysterious <code>_DecodeVarint32</code> (I'm on Windows, if it's related to that.)</li>\n<li>whether the file <code>coordinate_push.jl</code> has to be in the same directory as my main file, and if not, how I can properly import it (it is currently in a <code>proto</code> subfolder, and in Python I'd import it using <code>from src.proto import coordinate_push</code>)</li>\n</ul>\n<p>Insight on any of the three points would be highly appreciated.</p>\n"},{"tags":["type-conversion","julia","automatic-differentiation","autodiff"],"owner":{"reputation":571,"user_id":13259528,"user_type":"registered","profile_image":"https://lh6.googleusercontent.com/-Y56MXFFmOZM/AAAAAAAAAAI/AAAAAAAAAAA/AAKWJJM33WNg8Me46hkWkS_cMkj-OkRIBg/photo.jpg?sz=128","display_name":"Conor","link":"https://stackoverflow.com/users/13259528/conor"},"is_answered":true,"view_count":35,"accepted_answer_id":64820980,"answer_count":1,"score":3,"last_activity_date":1605277671,"creation_date":1605269472,"last_edit_date":1605277671,"question_id":64820651,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64820651/plotting-output-of-forwarddiff-in-julia","title":"Plotting output of ForwardDiff in Julia","body":"<p>I would just like to use the <code>ForwardDiff.jl</code> functionality to define a function and plot its gradient (evaluated using <code>ForwardDiff.gradient</code>). It seems not be working because the output of <code>ForwardDiff.gradient</code> is this weird <code>Dual</code> type thing, and it's not easily being converted to the desired type (in my case, a 1-D array of Float32s).</p>\n<pre><code>using Plots\nusing ForwardDiff\n\nmy_func(x::Array{Float32,1}) = 1f0. / (1f0 .+ exp(3f0 .* x)) # doesn't matter what this is, just a sigmoid function here\n\ngrad_f(x::Array{Float32,1}) = ForwardDiff.gradient(my_func, x)\n\nx_values = collect(Float32,0:0.01:10)\n\nplot(x_values,my_func(x_values)); # this works fine\n\nplot!(x_values,grad_f(x_values)); # this throws an error\n</code></pre>\n<p>And this is the error I get:</p>\n<pre><code>ERROR: MethodError: no method matching Float64(::ForwardDiff.Dual{ForwardDiff.Tag{typeof(g),Float32},Float64,12})\n</code></pre>\n<p>When I inspect the type of <code>grad_f(x_values)</code>, I get this:</p>\n<p><code>Array{Array{ForwardDiff.Dual{ForwardDiff.Tag{typeof(g),Float32},Float32,12},1},1}</code></p>\n<p>Why doesn't that happen in the example on the documentation for ForwardDiff, for instance?\nSee here: <a href=\"https://github.com/JuliaDiff/ForwardDiff.jl\" rel=\"nofollow noreferrer\">https://github.com/JuliaDiff/ForwardDiff.jl</a></p>\n<p>Thanks in advance.</p>\n<p>EDIT:\nAfter Kristoffer Carlsson's comments: I tried this but it still doesn't work. I don't understand what is so different about what I tried here versus what he suggested:</p>\n<pre><code>function g(x::Float32)\n    return x / (1f0 + exp(10f0 * (x - 5f0)))\nend\n\nfunction ∂g∂x(x::Float32)\n    return ForwardDiff.derivative(g, x)\nend\n\nx_vals = collect(Float32,0:0.01:10)\nplot(x_vals,g.(x_vals))\nplot!(x_vals,∂g∂x.(x_vals))\n</code></pre>\n<p>With the error now being:</p>\n<pre><code>no method matching g(::ForwardDiff.Dual{ForwardDiff.Tag{typeof(g),Float32},Float32,1})\n</code></pre>\n<p>And this error occurs just when I call <code>∂g∂x(x)</code>, whether or not I'm using the broadcasted version <code>∂g∂x.(x)</code>. I guess it's something to do with the function definition, but I don't see how the way I defined it differs than Kristoffer's version, other than that it's not defined in a single line...This is so confusing.</p>\n<p>This should work because according to <code>ForwardDiff</code>'s documentation, you just need the types of the inputs to be a sub-type of <code>Real</code> - and <code>Float32</code> is a sub-type of Real.</p>\n<p>EDIT: I realise that now, having read the comments from others, that you need to restrict your functions to be generic enough to accept <em>any</em> inputs of the abstract type <code>Real</code>, which I didn't quite glean from the documentation. Apologies for the confusion.</p>\n"},{"tags":["julia","text-parsing"],"owner":{"reputation":87,"user_id":13570848,"user_type":"registered","profile_image":"https://lh4.googleusercontent.com/-CgOIlS_UEkQ/AAAAAAAAAAI/AAAAAAAAAAA/AMZuuckzN4PXA5Ib4h3ate7dRWdmJVpNDw/photo.jpg?sz=128","display_name":"cardoza2","link":"https://stackoverflow.com/users/13570848/cardoza2"},"is_answered":true,"view_count":58,"accepted_answer_id":64810165,"answer_count":3,"score":3,"last_activity_date":1605208766,"creation_date":1605200495,"last_edit_date":1605208766,"question_id":64808351,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64808351/parse-an-array-of-strings","title":"Parse an array of strings","body":"<p>I have a 1D array of strings ( Array{String,1} ) which describe a matrix of Floats (see below). I need to parse this matrix. Any slick suggestions?</p>\n<ul>\n<li>Julia 1.5</li>\n<li>MacOS</li>\n</ul>\n<p>Yes, I did read this in from a file. I don't want to read the whole thing in using CSV, because I want to maintain the option to read the entire file using memory I/O, which I don't think CSV has. Plus, I have some complex lines including strings and numbers, and strings and strings that I need to parse, which kind of rules out DelimitedFiles. The columns are separated by two spaces.</p>\n<pre><code>julia&gt; lines[24+member_total:idx-1]\n49-element Array{String,1}:\n &quot;0.0000000E+00  0.0000000E+00  0.0000000E+00  1.3308000E+01&quot;\n &quot;0.0000000E+00  0.0000000E+00  1.9987500E-01  1.3308000E+01&quot;\n &quot;0.0000000E+00  0.0000000E+00  1.1998650E+00  1.3308000E+01&quot;\n &quot;0.0000000E+00  0.0000000E+00  2.1998550E+00  1.3308000E+01&quot;\n &quot;0.0000000E+00  0.0000000E+00  3.1998450E+00  1.3308000E+01&quot;\n &quot;0.0000000E+00  0.0000000E+00  4.1998350E+00  1.3308000E+01&quot;\n ⋮\n &quot;0.0000000E+00  0.0000000E+00  5.9699895E+01  1.4000000E-01&quot;\n &quot;0.0000000E+00  0.0000000E+00  6.0199890E+01  1.0100000E-01&quot;\n &quot;0.0000000E+00  0.0000000E+00  6.0699885E+01  6.2000000E-02&quot;\n &quot;0.0000000E+00  0.0000000E+00  6.1199880E+01  2.3000000E-02&quot;\n &quot;0.0000000E+00  0.0000000E+00  6.1500000E+01  0.0000000E+00&quot;\n</code></pre>\n"},{"tags":["julia"],"owner":{"reputation":5456,"user_id":7210250,"user_type":"registered","accept_rate":50,"profile_image":"https://www.gravatar.com/avatar/f9e36056bc843650f91411fcb4d7bb58?s=128&d=identicon&r=PG&f=1","display_name":"Georgery","link":"https://stackoverflow.com/users/7210250/georgery"},"is_answered":true,"view_count":45,"accepted_answer_id":64840560,"answer_count":1,"score":3,"last_activity_date":1605405964,"creation_date":1605194453,"question_id":64806733,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64806733/add-rows-or-columns-to-matrix-by-recycling","title":"Add Rows or Columns to Matrix by Recycling","body":"<p>I have a 2x2 matrix</p>\n<pre><code>a = [1 2\n    3 4]\n\n2×2 Array{Int64,2}:\n 1  2\n 3  4\n</code></pre>\n<p>and want to add a row of all <code>0</code>s. I can just do this:</p>\n<pre><code>vcat(0, a)\n\n3×2 Array{Int64,2}:\n 0  0\n 1  2\n 3  4\n</code></pre>\n<p>The <code>0</code> gets recycled and fills up the entire first row. To me (coming from R) this makes sense.</p>\n<p>What does not make sense to me is the following:</p>\n<pre><code>hcat(0, a)\n\nERROR: DimensionMismatch(&quot;mismatch in dimension 1 (expected 1 got 2)&quot;)\n</code></pre>\n<p>Anyone got an explanation?</p>\n"},{"tags":["parallel-processing","julia","distributed"],"owner":{"reputation":335,"user_id":2551521,"user_type":"registered","profile_image":"https://www.gravatar.com/avatar/79bc0aa157a82a7be5b63cb213accde8?s=128&d=identicon&r=PG","display_name":"Pedro G.","link":"https://stackoverflow.com/users/2551521/pedro-g"},"is_answered":true,"view_count":24,"accepted_answer_id":64802966,"answer_count":1,"score":2,"last_activity_date":1605181495,"creation_date":1605178483,"last_edit_date":1605179748,"question_id":64802561,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64802561/julia-sharedarray-with-remote-workers-becomes-a-0-element-array","title":"Julia: SharedArray with remote workers becomes a 0-element array","body":"<p>I'm trying to run some code using remote workers on a server that I would like to combine with local workers on Julia 1.5.3. The following code works fine when run locally with 24 workers:</p>\n<pre><code>using Distributed\nusing SharedArrays\na = SharedArray{Float64}(100)\n@sync @distributed for i = 1:100\n    a[i] = i+1\nend\nsum(a)\n</code></pre>\n<p>If I add workers with</p>\n<pre><code>N_remote = 24\nfor i=1:N_remote\n    addprocs([&quot;user@192.168.0.129&quot;], tunnel=true, dir=&quot;/home/user/scripts/&quot;, exename=&quot;/home/user/julia-1.5.3/bin/julia&quot;)\nend\n</code></pre>\n<p>Then I get the following error when running the first code:</p>\n<pre><code> julia&gt; include(&quot;test_sharedarray.jl&quot;)\nERROR: LoadError: TaskFailedException:\nOn worker 4:\nBoundsError: attempt to access 0-element Array{Float64,1} at index [1]\nsetindex! at ./array.jl:847 [inlined]\nsetindex! at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/SharedArrays/src/SharedArrays.jl:510\nmacro expansion at /home/usuaris/spcom/gfebrer/bayesian_mc_watson/scripts/test_sharedarray.jl:5 [inlined]\n#13 at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/Distributed/src/macros.jl:301\n#160 at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/Distributed/src/macros.jl:87\n#103 at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/Distributed/src/process_messages.jl:290\nrun_work_thunk at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/Distributed/src/process_messages.jl:79\nrun_work_thunk at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/Distributed/src/process_messages.jl:88\n#96 at ./task.jl:356\n\n...and 23 more exception(s).\n\nStacktrace:\n [1] sync_end(::Channel{Any}) at ./task.jl:314\n [2] (::Distributed.var&quot;#159#161&quot;{var&quot;#13#14&quot;,UnitRange{Int64}})() at ./task.jl:333\nStacktrace:\n [1] sync_end(::Channel{Any}) at ./task.jl:314\n [2] top-level scope at task.jl:333\n [3] include(::String) at ./client.jl:457\n [4] top-level scope at REPL[5]:1\nin expression starting at /home/user/scripts/test_sharedarray.jl:4\n</code></pre>\n"},{"tags":["recursion","julia"],"owner":{"reputation":33,"user_id":12683389,"user_type":"registered","profile_image":"https://www.gravatar.com/avatar/3d862ac873ffdcbab49517f2d47ddab6?s=128&d=identicon&r=PG&f=1","display_name":"bkxvx","link":"https://stackoverflow.com/users/12683389/bkxvx"},"is_answered":true,"view_count":32,"accepted_answer_id":64802331,"answer_count":1,"score":3,"last_activity_date":1605177585,"creation_date":1605175945,"question_id":64801924,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64801924/reassign-function-and-avoid-recursive-definition-in-julia","title":"Reassign function and avoid recursive definition in Julia","body":"<p>I need to operate on a sequence of functions</p>\n<p><em>h_k(x) = (I + f_k( ) )^k g(x)</em></p>\n<p>for each k=1,...,N.</p>\n<p>A basic example (N=2, f_k=f) is the following:</p>\n<pre><code>f(x) = x^2\ng(x) = x\nh1(x) = g(x) + f(g(x))\nh2(x) = g(x) + f(g(x)) + f(g(x) + f(g(x)))\nprintln(h1(1)) # returns 2\nprintln(h2(1)) # returns 6\n</code></pre>\n<p>I need to write this in a loop and it would be best to redefine g(x) at each iteration. Unfortunately, I do not know how to do this in Julia without conflicting with the syntax for a recursive definition of g(x). Indeed,</p>\n<pre><code>f(x) = x^2\ng(x) = x\nfor i=1:2\n    global g(x) = g(x) + f(g(x))\n    println(g(1))\nend\n</code></pre>\n<p>results in a StackOverflowError.</p>\n<p><em><strong>In Julia, what is the proper way to redefine g(x), using its previous definition?</strong></em></p>\n<p>P.S. For those who would suggest that this problem could be solved with recursion: I want to use a for loop because of how the functions f_k(x) (in the above, each f_k = f) are computed in the real problem that this derives from.</p>\n"},{"tags":["julia","gurobi","integer-programming","julia-jump"],"owner":{"reputation":47,"user_id":11223864,"user_type":"registered","profile_image":"https://lh4.googleusercontent.com/-eSp3TgkY9-g/AAAAAAAAAAI/AAAAAAAABHU/jhTst97VYeY/photo.jpg?sz=128","display_name":"Chris Swan","link":"https://stackoverflow.com/users/11223864/chris-swan"},"is_answered":true,"view_count":35,"accepted_answer_id":64799382,"answer_count":1,"score":1,"last_activity_date":1605164908,"creation_date":1605147118,"last_edit_date":1605153128,"question_id":64796932,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64796932/computing-irreducible-inconsistent-subsystem-iis-using-julia-jump-gurobi","title":"Computing Irreducible Inconsistent Subsystem (IIS) using Julia JuMP (Gurobi)","body":"<p>Trying to compute IIS for my stupidly overcomplicated model.</p>\n<p>I'll include the whole model for clarity:</p>\n<pre><code>using JuMP\nusing Gurobi\nimport XLSX\nroster = Model(Gurobi.Optimizer)\n\nIntern = 1:11 #i\nWeek = 1:52  #k\nRotation = 1:23 #j\nLeave_week = 1:3\nDec_leave = 1:2\nM = 1000\nclins = 7:52\nnon_clins = 5:52\nearly = 5:28\ngen = [5,8]\n\n@variables(roster, begin\n    x[Intern,Week, Rotation], Bin\n    y[Intern,Week, Rotation], Bin\n    L[Leave_week, Week], Bin\n    D[Dec_leave, Intern], Bin\n    s[Intern, Week], Bin\n    g[Intern, gen], Bin\nend\n)\n\n#physical constraint\n@constraint(roster, phys[i in Intern, k in Week],\n    sum(x[i,k,j] for j in Rotation) == 1)\n\n#Rotation capacity\nrots    = [1,2,3,4,5,6,7,8,9,10,12,13,15,16,17,18,19]\ncap_rhs = [2,1,1,1,1,1,1,1,1, 1, 1, 1, 2, 1, 1, 2, 1, 1]\ncap = @constraint(roster, [(b,d) in zip(rots, cap_rhs), k in 1:52],\n    sum(x[i,k,b] for i in Intern) &lt;= d)\n\n#dispensary\ndisp  = @constraint(roster, [i in Intern], sum(x[i,k,j] for k in Week, j in 14:18) &gt;= 5)\ndisp1 = @constraint(roster, [i in Intern], sum(x[i,k,j] for k in 29:40, j in 14:18) &gt;= 1)\ndisp2 = @constraint(roster, [i in Intern], sum(x[i,k,j] for k in 41:52, j in 14:18) &gt;= 1)\nclay_cap_o = @constraint(roster, [k in 1:4],\n        sum(x[i,k,14] for i in Intern) &lt;=3)\nclay_cap_o = @constraint(roster, [k in 5:52],\n        sum(x[i,k,14] for i in Intern) &lt;=2)\n\n#Orientation\nIP_1 = @constraint(roster, [i in Intern], sum(x[i,k,1] for k in 1:6) &gt;= 1)\nIP_3_1 = @constraint(roster, [i in Intern], sum(s[i,k] for k in 1:5) &lt;= 1)\nIP_3_11 = @constraint(roster, sum(s[i,k] for i in Intern, k in 1:5) == 10)\nIP_3_2 = @constraint(roster, [i in Intern, k in 1:4], x[i,k,1] == s[i,k])\n# IP_lazy = @constraint(roster, [(i,k) in zip(Intern, [1 1 2 2 3 3 4 4 5 5 6])], x[i,k,1] ==1)\norien = @constraint(roster, [i in Intern], sum(x[i,k,j] for k in 1:4, j in [1,14,15,16,17,18] ) == 4)\norien1 = @constraint(roster, [i in Intern, j in [1,14,15,16,17,18]], sum(x[i,k,j] for k in 1:4 ) &lt;= 2)\n\n#leave\n# 2 weeks leave\n@constraint(roster, [i in Intern],\n                    sum(x[i,k,j] for k in Week, j in 20:22) == 2)\nweek1_dvar = @constraint(roster, sum(L[1, k] for k in 17:22) == 1)\n@constraint(roster, week1[k in 17:22], sum(x[i,k,20] for i in Intern) == 11*L[1,k])\n@constraint(roster, week2_3_dvar[l in 2:3], sum(L[l, k] for k in 35:41) == 1)\n@constraint(roster, week2_3[(l, j, rhs) in zip(2:3, 21:22, [6,5]), k in 35:41],\n    sum(x[i,k,j] for i in Intern) == rhs*L[l, k] )\n@constraint(roster, max_leave[i in Intern], sum(x[i,k,j] for j in 20:22, k in Week) ==2)\n## - Dec_leave\n@constraint(roster,[i in Intern], sum(D[l,i] for l in 1:2) == 1)\n@constraint(roster, [(l,d) in zip(1:2,[6,5])], sum(D[l,i] for i in Intern) == d)\n@constraint(roster, [i in Intern, (l,b) in zip(1:2, [49:50, 51:52])],\n    sum(x[i,k,23] for k in b) == 2*D[l,i])\n@constraint(roster, [i in Intern], sum(x[i,k,23] for k in Week) == 2)\n\n#MIC\nMIC_1_dvar = @constraint(roster, [i in Intern], sum(y[i,k,4] for k in 5:27 ) == 1)\nMIC_2_dvar = @constraint(roster, [i in Intern], sum(y[i,k,4] for k in 29:51 ) == 1)\nMIC = @constraint(roster, [ i in Intern, k in 5:27],\n    2 - sum(x[i, k + alpha, 4] for alpha in 0:1 ) &lt;= M*(1-y[i,k,4]))\nMIC = @constraint(roster, [ i in Intern, k in 29:51],\n    2 - sum(x[i, k + alpha, 4] for alpha in 0:1 ) &lt;= M*(1-y[i,k,4]))\n\n#gen_med\ng_vars = @constraint(roster, [i in Intern], sum(g[i,m] for m in gen) ==1)\ngen_duration_dvar = @constraint(roster, [(b,d) in zip(gen,[6,7]), i in Intern],\n                sum(y[i,k,b] for k in 1:(52 - (d-1) ) ) == g[i,b])\ngen_limit = @constraint(roster, [(b,d) in zip(gen,[6,7]), i in Intern],\n                sum(x[i,k,b] for k in Week) == g[i,b]*d)\ngen_durations = @constraint(roster, [(b,d) in zip(gen,[6,7]),\n                i in Intern, k in 1:(52 - (d-1) )],\n                d - sum(x[i, k + alpha, b] for alpha in 0:(d-1) ) &lt;= M*(1-y[i,k,b]))\ned_with_gen = @constraint(roster, [i in Intern, k in 2:50], y[i,k,23] - x[i,k-1,8] - x[i,k+2,8] &lt;= (1-g[i,5]))\n\n#qum\nqum_1 = @constraint(roster, [i in Intern], sum(x[i,k,13] for k in early) &gt;= 1)\nqum_2 = @constraint(roster, [i in Intern], sum(x[i,k,13] for k in 1:39) == 2)\n\n# duration\ndur_rot =   [2,6,7,9,10,11,19]\ndurs =      [2,4,2,3, 3, 4, 2]\nduration_dvar = @constraint(roster, [(b,d) in zip(dur_rot, durs), i in Intern],\n                sum(y[i,k,b] for k in 1:(52 - (d-1) ) ) == 1)\ndurations = @constraint(roster, [(b,d) in zip(dur_rot, durs),\n                i in Intern, k in 1:(52 - (d-1) )],\n                d - sum(x[i, k + alpha, b] for alpha in 0:(d-1) ) &lt;= M*(1-y[i,k,b]))\n                \nAP_dur_var = @constraint(roster, [i in Intern], sum(y[i,k,3] for k in 5:35) == 1)\nAP_dur     = @constraint(roster, [i in Intern, k in 5:35],\n                2 - sum(x[i,k + alpha, 3] for alpha in 0:1) &lt;= M*(1 - y[i,k,3]))\nAP_third   = @constraint(roster,[i in Intern], sum(x[i,k,3] for k in 37:52) == 1)\n\n\n\n# rotations_lengths\ncompletion = @constraint(roster,\n    [(j,c,d) in zip([1,2,3,4,6,7,9,10,11,12,19],\n    [ 1:28,clins,non_clins, non_clins,clins,clins, clins, clins, 29:52, early, clins],\n                    [3,2,3,4,4,2,3, 3, 4, 1, 2]), i in Intern],\n                  sum(x[i,k,j] for k in c) == d)\nIP_soft = @constraint(roster, [i in Intern], sum(x[i,k,1] for k in Week) &gt;= 5)\nwhole_year = @constraint(roster, [(j,d) in zip([1,2,3,4,6,7,9,10,11,12,13,19],\n                                                [5,2,3,4,4,2,3, 3, 4, 1, 2, 2]), i in Intern],\n                                                sum(x[i,k,j] for k in Week) == d)\n\n#  public holiday constraints\nno_pubs = @constraint(roster,\n    [i in Intern, k in [4,7,10,13,14,22,24,29,39,44,52], j in [12,13]],\n    x[i,k,j] == 0 )\n\nz = @expression(roster, sum(x[i,k,j] for i in Intern, j in Rotation, k in Week))\nobj_z = @objective(roster, Max, z)\n\noptimize!(roster)\n</code></pre>\n<p>Tried a few approaches, such as those recommended <a href=\"https://groups.google.com/g/julia-opt/c/WNFW_oxoX90\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://github.com/JuliaOpt/JuMP.jl/blob/b750d1909d1bd3a6959f0c818185638722d76a3d/examples/iis.jl\" rel=\"nofollow noreferrer\">here</a> but ran into errors.</p>\n<p>Tried <code> Gurobi.computeIIS(roster)</code> but came up with:</p>\n<pre><code>The C API of Gurobi.jl has been rewritten to expose the complete C API, and\nall old functions have been removed. For more information, see the Discourse\nannouncement: https://discourse.julialang.org/t/ann-upcoming-breaking-changes-to-cplex-jl-and-gurobi-jl\n\nHere is a brief summary of the changes.\n\n...\n</code></pre>\n<p>Any help or advise appreciated.  Please feel free to edit the example for clarity.</p>\n<p>Many thanks.</p>\n"},{"tags":["dataframe","julia","julia-plots"],"owner":{"reputation":339,"user_id":9720263,"user_type":"registered","profile_image":"https://i.stack.imgur.com/b6fUu.png?s=128&g=1","display_name":"pp492","link":"https://stackoverflow.com/users/9720263/pp492"},"is_answered":false,"view_count":15,"answer_count":0,"score":0,"last_activity_date":1605141871,"creation_date":1605141871,"question_id":64796295,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64796295/specify-x-axis-dimension-julia-statsplots-package","title":"Specify x-axis dimension julia statsplots package","body":"<p>I have the following dataframe <code>scenario1gdf</code> and I'd like to plot it as a stack bar chart (see image below) where each stacked bar is a <code>schedule</code> and each section in the stack bar is a <code>space_type</code></p>\n<pre><code>schedule_id space_type  occupancy_mean\nString  SubString   Float64\n1   &quot;schedule_1&quot;    &quot;K&quot; 10.0\n2   &quot;schedule_1&quot;    &quot;B&quot; 38.3333\n3   &quot;schedule_1&quot;    &quot;P&quot; 628.0\n4   &quot;schedule_1&quot;    &quot;CA&quot;    166.667\n5   &quot;schedule_1&quot;    &quot;MR&quot;    185.625\n6   &quot;schedule_1&quot;    &quot;OUT&quot;   0.0\n7   &quot;schedule_8&quot;    &quot;P&quot; 607.0\n8   &quot;schedule_8&quot;    &quot;K&quot; 20.0\n9   &quot;schedule_8&quot;    &quot;B&quot; 21.6667\n10  &quot;schedule_8&quot;    &quot;CA&quot;    184.167\n...\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/kxcnv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kxcnv.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried with</p>\n<pre><code>@df scenario1gdf groupedhist(:occupancy_mean, group = :space_type, bar_position = :stack)\n</code></pre>\n<p>where scenario1gdf is the dataframe defined above, but I get a strange plot (see below)</p>\n<p>How can I get to plot the <code>schedule_id</code> on the x-axis?</p>\n<p><a href=\"https://i.stack.imgur.com/ZPCG4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZPCG4.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["julia"],"owner":{"reputation":137,"user_id":14593287,"user_type":"registered","profile_image":"https://i.stack.imgur.com/yAVKW.jpg?s=128&g=1","display_name":"Daniel Kaszyński","link":"https://stackoverflow.com/users/14593287/daniel-kaszy%c5%84ski"},"is_answered":true,"view_count":35,"accepted_answer_id":64796716,"answer_count":1,"score":3,"last_activity_date":1605145346,"creation_date":1605136806,"question_id":64795628,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64795628/holding-the-same-binning-in-the-train-and-test-vector-data-sets","title":"Holding the same binning in the train and test vector data sets","body":"<p>I have a numeric vector <code>train</code> that I use in a training data set for a model. Assume I want to cut it into 5 bins. I know I can do it using <code>cut(x, 5)</code> from CategoricalArrays.jl. How to set the same binning in the <code>test</code> vector from a test data set of the model?</p>\n"},{"tags":["julia"],"owner":{"reputation":497,"user_id":3844074,"user_type":"registered","accept_rate":89,"profile_image":"https://www.gravatar.com/avatar/645c0382730891e5974865dd1227afb2?s=128&d=identicon&r=PG&f=1","display_name":"ilker_arslan","link":"https://stackoverflow.com/users/3844074/ilker-arslan"},"is_answered":false,"view_count":36,"answer_count":1,"score":1,"last_activity_date":1605406392,"creation_date":1605130435,"last_edit_date":1605177349,"question_id":64794457,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64794457/julia-libllvm-system-not-defined","title":"Julia libllvm_system not defined","body":"<p>I am trying to install the packages CUDAnative, CuArrays, and CUDAdrv in Julia.\nI'm getting the following error when I write</p>\n<p><code>Pkg.build(&quot;CUDAnative&quot;)</code></p>\n<p><code>LoadError: UndefVarError: libllvm_system not defined</code></p>\n<p>Any idea why?</p>\n<p>(I am using an Asus Zephyrus G14 with Nvidia RTX 2060 and AMD Ryzen 9)</p>\n"},{"tags":["visual-studio-code","julia","vscode-debugger"],"owner":{"reputation":11,"user_id":14620937,"user_type":"registered","profile_image":"https://i.stack.imgur.com/RrxLE.jpg?s=128&g=1","display_name":"Tim Madden","link":"https://stackoverflow.com/users/14620937/tim-madden"},"is_answered":true,"view_count":35,"accepted_answer_id":64849901,"answer_count":2,"score":1,"last_activity_date":1605475170,"creation_date":1605119858,"last_edit_date":1605184864,"question_id":64792254,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64792254/vscode-debugger-hangs-on-the-using-revise-statement","title":"vscode-debugger hangs on the &quot;using Revise&quot; statement","body":"<p>When I use Visual Studio code to debug a Julia file, it hangs on the &quot;using Revise&quot; statement.  No debugging button seems to do anything, except the stop button.  Does anyone know of a solution?</p>\n<pre><code>using Revise\n\nprintln(&quot;Hello&quot;)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Qj7JB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qj7JB.png\" alt=\"vscode screenshot\" /></a></p>\n"},{"tags":["latex","julia","plotly","plots.jl"],"owner":{"reputation":5366,"user_id":1117766,"user_type":"registered","accept_rate":40,"profile_image":"https://www.gravatar.com/avatar/8941d31fb100b6224f5a6f28bbce8341?s=128&d=identicon&r=PG","display_name":"varantir","link":"https://stackoverflow.com/users/1117766/varantir"},"is_answered":true,"view_count":35,"answer_count":1,"score":2,"last_activity_date":1605121510,"creation_date":1605115102,"question_id":64791134,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64791134/plotly-julia-latex","title":"Plotly + Julia + Latex","body":"<p>I would like to use latex with the Plotly backend. Look in this example: Even the x-axis and y-axis log scales are not formatted properly! Do you know how to do that?</p>\n<p>Best,</p>\n<p>v.</p>\n<pre><code>using Plots, LaTeXStrings\nplotlyjs()\nx =  10 .^ LinRange(-5,5,10)\n\nplot(x, 1 ./ x, yaxis=:log, xaxis=:log, m = 2, xlabel=&quot;x&quot;, label=&quot;1/x&quot;,ylabel=&quot;f(x)&quot;)\nplot!(x, 10 ./ x, m=2,label=&quot;10/x&quot;)\nplot!(x, 1 ./ (x.^2), m=2, label=L&quot;f(x)=$1/x^2$&quot;)\nsavefig(&quot;./test.png&quot;)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/86W9F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/86W9F.png\" alt=\"test\" /></a></p>\n"},{"tags":["visual-studio-code","julia"],"owner":{"reputation":643,"user_id":10639382,"user_type":"registered","profile_image":"https://www.gravatar.com/avatar/307903801d342e4f8e44efc44b4d9f88?s=128&d=identicon&r=PG&f=1","display_name":"imantha","link":"https://stackoverflow.com/users/10639382/imantha"},"is_answered":true,"view_count":35,"accepted_answer_id":64845264,"answer_count":1,"score":2,"last_activity_date":1605448889,"creation_date":1605095580,"question_id":64785931,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64785931/better-plugin-for-julia-autocomplete-for-vs-code","title":"Better plugin for Julia autocomplete for Vs code","body":"<p>I am new to Julia and wanted to shift from Juno IDE to vs code. Juno has a pretty awesome auto-complete which shows which package a function comes from. I was wondering if there is an external plugin that I could install to get something similar to vs code. The vs code hovering to get the details of the function is good, but I definitely prefer the one Juno offers.</p>\n<p>Here is a pic of the Juno autocomplete</p>\n<p><a href=\"https://i.stack.imgur.com/ammkS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ammkS.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["julia"],"owner":{"reputation":43,"user_id":14618866,"user_type":"registered","profile_image":"https://lh4.googleusercontent.com/-EWPXHV6YVjU/AAAAAAAAAAI/AAAAAAAAAVM/0MdEOrIQXpQ/photo.jpg?sz=128","display_name":"chau","link":"https://stackoverflow.com/users/14618866/chau"},"is_answered":true,"view_count":65,"accepted_answer_id":64786235,"answer_count":3,"score":4,"last_activity_date":1605431806,"creation_date":1605093223,"last_edit_date":1605118798,"question_id":64785326,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64785326/arrays-of-abstract-type-in-julia-in-functions","title":"Arrays of abstract type in julia in functions","body":"<p>I try to understand typing in Julia and encounter the following problem with <code>Array</code>. I wrote a function <code>bloch_vector_2d(Array{Complex,2})</code>; the detailed implementation is irrelevant. When calling, here is the complaint:</p>\n<pre><code>julia&gt; bloch_vector_2d(rhoA)\nERROR: MethodError: no method matching bloch_vector_2d(::Array{Complex{Float64},2})\nClosest candidates are:\n  bloch_vector_2d(::Array{Complex,2}) at REPL[56]:2\n  bloch_vector_2d(::StateAB) at REPL[54]:1\nStacktrace:\n [1] top-level scope at REPL[64]:1\n</code></pre>\n<p>The problem is that an array of parent type is not automatically a parent  of an array of child type.</p>\n<pre><code>julia&gt; Complex{Float64} &lt;: Complex\ntrue\n\njulia&gt; Array{Complex{Float64},2} &lt;: Array{Complex,2}\nfalse\n</code></pre>\n<p>I think it would make sense to impose in julia that <code>Array{Complex{Float64},2} &lt;: Array{Complex,2}</code>. Or what is the right way to implement this in Julia? Any helps or comments are appreciated!</p>\n"},{"tags":["random","julia"],"owner":{"reputation":21,"user_id":14286852,"user_type":"registered","profile_image":"https://www.gravatar.com/avatar/c7f0a1a448adf15dbe040dd9f30044a4?s=128&d=identicon&r=PG&f=1","display_name":"Thomas Leyshon","link":"https://stackoverflow.com/users/14286852/thomas-leyshon"},"is_answered":true,"view_count":63,"answer_count":1,"score":2,"last_activity_date":1605106945,"creation_date":1605088387,"last_edit_date":1605089895,"question_id":64784139,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64784139/optimal-way-to-generate-and-call-many-random-numbers","title":"Optimal way to generate and call many random numbers?","body":"<p>I have a general question. I've got a Julia programme that needs to use a random number each time it iterates through a for loop. I'm wondering is there any performance benefits to be gain if I make batches of random numbers before the loop and store them in an array calling these pre-made random numbers instead of generating them on the fly? And, if so, is there an optimum batch size?</p>\n"},{"tags":["julia","mesh","numerical-methods","ode"],"owner":{"reputation":315,"user_id":1020237,"user_type":"registered","profile_image":"https://i.stack.imgur.com/6qh1b.png?s=128&g=1","display_name":"fweth","link":"https://stackoverflow.com/users/1020237/fweth"},"is_answered":false,"view_count":40,"answer_count":0,"score":0,"last_activity_date":1605087008,"creation_date":1605076749,"last_edit_date":1605087008,"question_id":64781624,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64781624/data-structure-for-triangular-mesh","title":"Data Structure For Triangular Mesh","body":"<p>I want to solve an ODE in two dimensions of the form <code>x'(t) = f(x(t))</code> where <code>f</code> is given by a large triangular mesh with values attached to the nodes and the concrete value of <code>f(x)</code> is computed by interpolation of the values attached to the corners of the triangle <code>x</code> lives in.</p>\n<p>So question is, what data structure would be most suitable to store the mesh in, so that it is optimized for the localization taks (in which triangle does <code>x</code> live in)?  Probably something implemented in Julia?</p>\n<p>Also, is there a good algorithm to solve ODEs with this kind of data in DifferentialEquations.jl?</p>\n"},{"tags":["julia"],"owner":{"reputation":12185,"user_id":190791,"user_type":"registered","accept_rate":68,"profile_image":"https://www.gravatar.com/avatar/184e01dc2af2f6c6ec200b41af6892b9?s=128&d=identicon&r=PG&f=1","display_name":"Timoth&#233;e HENRY","link":"https://stackoverflow.com/users/190791/timoth%c3%a9e-henry"},"is_answered":true,"view_count":49,"accepted_answer_id":64781835,"answer_count":3,"score":1,"last_activity_date":1605092627,"creation_date":1605074788,"question_id":64781305,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64781305/julia-generate-an-array-of-functions-programmatically","title":"Julia - generate an array of functions programmatically","body":"<p>I want to generate an array of functions programmatically, with a loop so that each successive function depends on the previous.</p>\n<p>For example in pseudo-code:</p>\n<pre><code>f_array = [f1, f2, f3]\nwith:\nf1(x) = x\nf2(x) = 3 * f1(x)\nf3(x) = 3 * f2(x)\n\nso that I could call:\nf_array[3](x)\nand get the result of f3(x)\n</code></pre>\n<p>Here is what I have tried:</p>\n<pre><code>  # create simple function just to initialize\n  f(x)=x\n  \n  # initialize array of functions\n  N = 3\n  f_array = fill(f, N)\n  \n  # now we update each function\n  for i in 2:N\n    f_array[i] = (f(x)= 3 * f_array[i-1](x))\n  end\n</code></pre>\n<p>I get an error:</p>\n<blockquote>\n<p>ERROR: MethodError: Cannot <code>convert</code> an object of type getfield(Main,\nSymbol(&quot;#f#15&quot;)){Int64} to an object of type typeof(f)</p>\n</blockquote>\n<p>I cannot find a solution at the moment. Any help would be appreciated.</p>\n"},{"tags":["matplotlib","julia","jupyter-lab","ipywidgets","ijulia-notebook"],"owner":{"reputation":5366,"user_id":1117766,"user_type":"registered","accept_rate":40,"profile_image":"https://www.gravatar.com/avatar/8941d31fb100b6224f5a6f28bbce8341?s=128&d=identicon&r=PG","display_name":"varantir","link":"https://stackoverflow.com/users/1117766/varantir"},"is_answered":false,"view_count":28,"answer_count":1,"score":1,"last_activity_date":1605449376,"creation_date":1605028659,"question_id":64773600,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64773600/using-matplotlib-widget-in-jupyter-lab-with-julia-kernel","title":"Using %matplotlib widget in jupyter lab with julia kernel","body":"<p>So it turns out when you want to use interactive plots (i.e. with zooming, moving around, rotating etc.) in jupyter lab with a python kernel, you need to use <code>%matplotlib widget</code>, this at least works for me. Now the question is: How could I use that feature with a julia kernel? I am a big fan of both matplotlib and julia and I do not want to compromise on them. When I type the above command with a julia kernel, I get the message</p>\n<blockquote>\n<p>The analogue of IPython's %matplotlib in Julia is to use the PyPlot package, which gives a Julia interface to Matplotlib including inline plots in IJulia notebooks. (The equivalent of numpy is already loaded by default in Julia.) Given PyPlot, the analogue of %matplotlib inline is using PyPlot, since PyPlot defaults to inline plots in IJulia. To enable separate GUI windows in PyPlot, analogous to %matplotlib, do using PyPlot; pygui(true). To specify a particular gui backend, analogous to %matplotlib gui, you can either do using PyPlot; pygui(:gui); using PyPlot; pygui(true) (where gui is wx, qt, tk, or gtk), or you can do ENV[&quot;MPLBACKEND&quot;]=backend; using PyPlot; pygui(true) (where backend is the name of a Matplotlib backend, like tkagg).\nFor more options, see the PyPlot documentation.</p>\n</blockquote>\n<p>This of course is all true, but it does not mention how interactivity could be achieved. PyPlot works out of the box, but the plots are non-interactive (in the above sense). Any ideas?</p>\n"},{"tags":["timer","julia"],"owner":{"reputation":13,"user_id":14613669,"user_type":"registered","profile_image":"https://www.gravatar.com/avatar/ff5a6b5a6ba5a6ff36c011301eb536f4?s=128&d=identicon&r=PG&f=1","display_name":"Rozon","link":"https://stackoverflow.com/users/14613669/rozon"},"is_answered":true,"view_count":53,"accepted_answer_id":64772363,"answer_count":3,"score":1,"last_activity_date":1605185037,"creation_date":1605022697,"last_edit_date":1605185037,"question_id":64771989,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64771989/how-do-i-repeat-my-custom-function-every-15-minutes-julia","title":"How do I repeat my custom function every 15 minutes? (Julia)","body":"<p>I was trying to write a function that would take the amount of players currently logged into oldschool runescape and append the amount with the current time and date into a csv file. This function works great, but when I try to use the Timer function to repeat the function multiple times it shows an error. (I want it to run every 15 minutes on my idle laptop indefinitely).</p>\n<p>This is the function:</p>\n<pre><code>function countplayers()\n    res = HTTP.get(&quot;https://oldschool.runescape.com&quot;)\n    body = String(res.body);\n    locatecount = findfirst(&quot;There are currently&quot;, body);\n    firstplayercount = body[locatecount[end]+2:locatecount[end]+8]\n    first = firstplayercount[1:findfirst(',',firstplayercount)-1]\n    if findfirst(',',firstplayercount) == 3\n        second = firstplayercount[findfirst(',',firstplayercount)+1:end-1]\n    else\n        second = firstplayercount[findfirst(',',firstplayercount)+1:end]\n    end\n    finalcount = string(first,second)\n    currentdate = Dates.now()\n    concatenated = [finalcount, currentdate]\n    f = open(&quot;test.csv&quot;,&quot;a&quot;)\n    write(f, finalcount,',')\n    write(f, string(currentdate), '\\n')\n    close(f)\nend\n</code></pre>\n<p>If I try <code>Timer(countplayers(),10,10)</code> to test it out, I get this error:</p>\n<pre><code>**ERROR: MethodError: no method matching Timer(::Nothing, ::Int64, ::Int64)**\n</code></pre>\n<p>The same error appears if the timer is placed below the function and if the timer command is used in the REPL.\nWhat am I doing wrong? Thanks in advance!</p>\n"},{"tags":["windows","julia","proto"],"owner":{"reputation":345,"user_id":2918960,"user_type":"registered","accept_rate":80,"profile_image":"https://www.gravatar.com/avatar/13e1fdd2e0707d1417aff29eb3eadb5c?s=128&d=identicon&r=PG&f=1","display_name":"Unis","link":"https://stackoverflow.com/users/2918960/unis"},"is_answered":false,"view_count":28,"answer_count":1,"score":1,"last_activity_date":1605449644,"creation_date":1605014963,"question_id":64769876,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64769876/protobuf-and-julia-on-windows-could-not-spawn-setenv","title":"ProtoBuf and Julia on Windows: Could not spawn setenv()","body":"<p>Trying to generate code from a .proto-file from within Julia 1.4.2 on Windows (current version), I encounter an IO error which I struggle to understand.</p>\n<p>My working directory contains a &quot;proto&quot;-directory, which itself contains a ProtoBuf-specification file named &quot;Sensor.proto&quot;. I have successfully installed ProtoBuf on Julia and, following the <a href=\"https://github.com/JuliaIO/ProtoBuf.jl/blob/master/PROTOC.md\" rel=\"nofollow noreferrer\">instructions by the package authors</a>, I wish to generate the proto code in the Julia REPL by typing</p>\n<pre><code>using ProtoBuf\nrun(ProtoBuf.protoc(`-I=proto --julia_out=jlout proto/Sensor.proto`))\n</code></pre>\n<p>(I have seen the authors' comments with regards to Windows, but my understanding is that, for invoking the above command from within Julia, I should be fine).</p>\n<p>The error I encounter is (shortened):</p>\n<pre><code>ERROR: IOError: could not spawn setenv(`protoc -I=proto --julia_out=jlout proto/Sensor.proto`,[&lt;very long list of paths&gt;]): no such file or directory (ENOENT)\nStacktrace:\n [1] _spawn_primitive(::String, ::Cmd, ::Array{Any,1}) at .\\process.jl:99\n [2] #550 at .\\process.jl:112 [inlined]\n [3] setup_stdios(::Base.var&quot;#550#551&quot;{Cmd}, ::Array{Any,1}) at .\\process.jl:196\n [4] _spawn at .\\process.jl:111 [inlined]\n [5] run(::Cmd; wait::Bool) at .\\process.jl:439\n [6] run(::Cmd) at .\\process.jl:438\n [7] top-level scope at none:0\n</code></pre>\n<p>The proto-file is valid; I have been using it in a Python environment successfully. What does the error mean, and how could I fix it?</p>\n<p>The <code>&lt;very long list of paths&gt;</code> within the above error message is:</p>\n<pre><code>&quot;PATH=C:\\\\Users\\\\fh\\\\.juliapro\\\\JuliaPro_v1.4.2-1\\\\packages\\\\ProtoBuf\\\\JY3fQ\\\\src\\\\..\\\\plugin:C:\\\\Program Files (x86)\\\\Common Files\\\\Oracle\\\\Java\\\\javapath;C:\\\\WINDOWS\\\\system32;C:\\\\WINDOWS;C:\\\\WINDOWS\\\\System32\\\\Wbem;C:\\\\WINDOWS\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\;C:\\\\WINDOWS\\\\System32\\\\OpenSSH\\\\;C:\\\\Program Files\\\\Intel\\\\WiFi\\\\bin\\\\;C:\\\\Program Files\\\\Common Files\\\\Intel\\\\WirelessCommon\\\\;C:\\\\Program Files\\\\PuTTY\\\\;C:\\\\Program Files\\\\Java\\\\jdk1.8.0_191\\\\bin;C:\\\\Program Files\\\\apache-maven-3.6.0\\\\bin;C:\\\\Program Files\\\\Git LFS;C:\\\\Program Files\\\\Microsoft SQL Server\\\\Client SDK\\\\ODBC\\\\170\\\\Tools\\\\Binn\\\\;C:\\\\Program Files (x86)\\\\Microsoft SQL Server\\\\150\\\\DTS\\\\Binn\\\\;C:\\\\Program Files\\\\Docker\\\\Docker\\\\resources\\\\bin;C:\\\\ProgramData\\\\DockerDesktop\\\\version-bin;C:\\\\Program Files\\\\Git\\\\cmd;C:\\\\Users\\\\fh\\\\AppData\\\\Local\\\\Continuum\\\\miniconda3;C:\\\\Users\\\\fh\\\\AppData\\\\Local\\\\Continuum\\\\miniconda3\\\\Library\\\\mingw-w64\\\\bin;C:\\\\Users\\\\fh\\\\AppData\\\\Local\\\\Continuum\\\\miniconda3\\\\Library\\\\usr\\\\bin;C:\\\\Users\\\\fh\\\\AppData\\\\Local\\\\Continuum\\\\miniconda3\\\\Library\\\\bin;C:\\\\Users\\\\fh\\\\AppData\\\\Local\\\\Continuum\\\\miniconda3\\\\Scripts;C:\\\\Users\\\\fh\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3;C:\\\\Users\\\\fh\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\Library\\\\mingw-w64\\\\bin;C:\\\\Users\\\\fh\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\Library\\\\usr\\\\bin;C:\\\\Users\\\\fh\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\Library\\\\bin;C:\\\\Users\\\\fh\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\Scripts;C:\\\\Users\\\\fh\\\\AppData\\\\Local\\\\Microsoft\\\\WindowsApps;C:\\\\Users\\\\fh\\\\AppData\\\\Local\\\\Programs\\\\MiKTeX 2.9\\\\miktex\\\\bin\\\\x64\\\\;C:\\\\Program Files\\\\JetBrains\\\\CLion 2019.3.2\\\\bin;;&quot;, &quot;USERDOMAIN_ROAMINGPROFILE=UoX&quot;, &quot;OPENSSL_CONF=C:\\\\Program Files (x86)\\\\OpenSSL-Win32\\\\bin\\\\openssl.cfg&quot;, &quot;HOMEPATH=\\\\Users\\\\fh&quot;, &quot;PATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC&quot;, &quot;NODE_ENV=production&quot;, &quot;SESSIONNAME=Console&quot;, &quot;SYSTEMROOT=C:\\\\WINDOWS&quot;, &quot;APPDATA=C:\\\\Users\\\\fh\\\\AppData\\\\Roaming&quot;, &quot;PSMODULEPATH=C:\\\\Program Files\\\\WindowsPowerShell\\\\Modules;C:\\\\WINDOWS\\\\system32\\\\WindowsPowerShell\\\\v1.0\\\\Modules&quot;, &quot;COMMONPROGRAMW6432=C:\\\\Program Files\\\\Common Files&quot;, &quot;PROGRAMDATA=C:\\\\ProgramData&quot;, &quot;PUBLIC=C:\\\\Users\\\\Public&quot;, &quot;USERDOMAIN=UoX&quot;, &quot;JULIA=C:\\\\Users\\\\fh\\\\AppData\\\\Local\\\\JuliaPro-1.4.2-1\\\\Julia-1.4.2\\\\bin\\\\julia.exe&quot;, &quot;OS=Windows_NT&quot;, &quot;PROCESSOR_REVISION=9e0a&quot;, &quot;TMP=C:\\\\Users\\\\FH~1\\\\AppData\\\\Local\\\\Temp&quot;, &quot;COMSPEC=C:\\\\WINDOWS\\\\system32\\\\cmd.exe&quot;, &quot;JULIA_EDITOR=\\&quot;C:\\\\Users\\\\fh\\\\AppData\\\\Local\\\\JuliaPro-1.4.2-1\\\\app-1.47.0\\\\atom.exe\\&quot;  -a&quot;, &quot;ALLUSERSPROFILE=C:\\\\ProgramData&quot;, &quot;CLION=C:\\\\Program Files\\\\JetBrains\\\\CLion 2019.3.2\\\\bin;&quot;, &quot;COMPUTERNAME=23-Y1225&quot;, &quot;JAVA_HOME=C:\\\\Program Files\\\\Java\\\\jdk1.8.0_191&quot;, &quot;JULIA_DEPOT_PATH=C:\\\\Users\\\\fh\\\\.juliapro\\\\JuliaPro_v1.4.2-1;C:\\\\Users\\\\fh\\\\AppData\\\\Local\\\\JuliaPro-1.4.2-1\\\\Julia-1.4.2\\\\local\\\\share\\\\julia;C:\\\\Users\\\\fh\\\\AppData\\\\Local\\\\JuliaPro-1.4.2-1\\\\Julia-1.4.2\\\\share\\\\julia&quot;, &quot;MAVEN_HOME=C:\\\\Program Files\\\\apache-maven-3.6.0&quot;, &quot;USERNAME=fh&quot;, &quot;GIT_LFS_PATH=C:\\\\Program Files\\\\Git LFS&quot;, &quot;USERPROFILE=C:\\\\Users\\\\fh&quot;, &quot;PROCESSOR_LEVEL=6&quot;, &quot;USERDNSDOMAIN=DS.UoX.COM&quot;, &quot;=C:=C:\\\\Users\\\\fh\\\\workspace\\\\project&quot;, &quot;PROGRAMW6432=C:\\\\Program Files&quot;, &quot;TERM=xterm-256color&quot;, &quot;TEMP=C:\\\\Users\\\\FH~1\\\\AppData\\\\Local\\\\Temp&quot;, &quot;HOMEDRIVE=C:&quot;, &quot;WINDIR=C:\\\\WINDOWS&quot;, &quot;NODE_PATH=C:\\\\Users\\\\fh\\\\AppData\\\\Local\\\\JuliaPro-1.4.2-1\\\\app-1.47.0\\\\resources\\\\app.asar\\\\exports&quot;, &quot;LOCALAPPDATA=C:\\\\Users\\\\fh\\\\AppData\\\\Local&quot;, &quot;PROCESSOR_IDENTIFIER=Intel64 Family 6 Model 158 Stepping 10, GenuineIntel&quot;, &quot;NUMBER_OF_PROCESSORS=12&quot;, &quot;JULIA_PKG_SERVER=pkg.juliacomputing.com&quot;, &quot;ONEDRIVECOMMERCIAL=C:\\\\Users\\\\fh\\\\UoX&quot;, &quot;COMMONPROGRAMFILES(X86)=C:\\\\Program Files (x86)\\\\Common Files&quot;, &quot;UATDATA=C:\\\\WINDOWS\\\\CCM\\\\UATData\\\\D9F8C395-CAB8-491d-B8AC-179A1FE1BE77&quot;, &quot;JULIA_NUM_THREADS=6&quot;, &quot;COMMONPROGRAMFILES=C:\\\\Program Files\\\\Common Files&quot;, &quot;ONEDRIVE=C:\\\\Users\\\\fh\\\\UoX&quot;, &quot;PROGRAMFILES(X86)=C:\\\\Program Files (x86)&quot;, &quot;JUNORC_PATH=C:\\\\Users\\\\fh\\\\AppData\\\\Local\\\\JuliaPro-1.4.2-1\\\\.atom&quot;, &quot;OPENBLAS_NUM_THREADS=8&quot;, &quot;PROGRAMFILES=C:\\\\Program Files&quot;, &quot;LOGONSERVER=\\\\\\\\Y63-XC-021&quot;, &quot;DRIVERDATA=C:\\\\Windows\\\\System32\\\\Drivers\\\\DriverData&quot;, &quot;ATOM_HOME=C:\\\\Users\\\\fh\\\\AppData\\\\Local\\\\JuliaPro-1.4.2-1\\\\.atom&quot;, &quot;FPS_BROWSER_USER_PROFILE_STRING=Default&quot;, &quot;SYSTEMDRIVE=C:&quot;, &quot;FPS_BROWSER_APP_PROFILE_STRING=Internet Explorer&quot;, &quot;PROCESSOR_ARCHITECTURE=AMD64&quot;, &quot;OPENBLAS_MAIN_FREE=1&quot;\n</code></pre>\n<p>I am completely new to Julia, but I'm familiar with &quot;similar&quot; languages such as Python and, although to a lesser extent, C++ and Java. Many thanks for your help in advance.</p>\n"},{"tags":["julia"],"owner":{"reputation":31,"user_id":8271883,"user_type":"registered","profile_image":"https://www.gravatar.com/avatar/35a06b31d5cf067c630be49dbd1f7761?s=128&d=identicon&r=PG&f=1","display_name":"Sergei","link":"https://stackoverflow.com/users/8271883/sergei"},"is_answered":false,"view_count":21,"answer_count":1,"score":2,"last_activity_date":1605018003,"creation_date":1605010366,"last_edit_date":1605011151,"question_id":64768728,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64768728/problems-with-ode-solving","title":"Problems with ODE solving","body":"<p>I'm trying to solve typical example from the DifferentialEquation package,\naccording to the guide from their page.</p>\n<p>Here is the example:</p>\n<pre><code>using DifferentialEquations\nusing Plots\n\nfunction lorenz(t,u, du)\n    du[1] = 10.0(u[2]-u[1])\n    du[2] = u[1]*(28.0-u[3]) - u[2]\n    du[3] = u[1]*u[2] - (8/3)*u[3]\nend\n   \nu0 = [1.0;0.0;0.0]\ntspan = (0.0,100.0)\nprob = ODEProblem(lorenz,u0,tspan)\nsol = solve(prob)\nplot(sol,vars=(1,2,3))\n</code></pre>\n<p>Then I get:</p>\n<blockquote>\n<p>ERROR: LoadError: Parameters were indexed but the parameters are <code>nothing</code>. You likely forgot to pass in parameters to the DEProblem!</p>\n</blockquote>\n<p>What is wrong here?\nThanks in advance!</p>\n"},{"tags":["arrays","sorting","tuples","julia","reverse"],"owner":{"reputation":363,"user_id":3897624,"user_type":"registered","accept_rate":80,"profile_image":"https://www.gravatar.com/avatar/799a58601428bcce8812f50667cb086c?s=128&d=identicon&r=PG&f=1","display_name":"PrinceOfBorgo","link":"https://stackoverflow.com/users/3897624/princeofborgo"},"is_answered":true,"view_count":30,"accepted_answer_id":64768195,"answer_count":2,"score":3,"last_activity_date":1605008217,"creation_date":1605007295,"question_id":64767942,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64767942/sort-array-of-tuple-over-multiple-indices-only-one-reversed-in-julia","title":"Sort array of tuple over multiple indices, only one reversed in Julia","body":"<p>I have an <code>Array{Tuple{Float64, Int}}</code>, I want to sort it in reversed order according to the first entries and in straight order according to the second one.</p>\n<p>Example: if <code>a=[(1.0,2),(3.0,1),(2.0,3),(2.0,2)]</code>, after calling <code>sort!(a, ...)</code>, I'd like to get <code>[(3.0,1),(2.0,2),(2.0,3),(1.0,2)]</code> where the first dimension is sorted from greater values to smaller ones and, when two entries are equal, the second dimension is sorted from small to big.</p>\n"},{"tags":["multithreading","parallel-processing","thread-safety","julia"],"owner":{"reputation":33,"user_id":13986274,"user_type":"registered","profile_image":"https://i.stack.imgur.com/IcpAt.png?s=128&g=1","display_name":"Wang","link":"https://stackoverflow.com/users/13986274/wang"},"is_answered":true,"view_count":46,"accepted_answer_id":64769375,"answer_count":1,"score":3,"last_activity_date":1605013095,"creation_date":1605004005,"question_id":64767091,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64767091/parallel-the-particle-swarm-optimization-in-julia","title":"Parallel the particle swarm optimization in Julia","body":"<p>I wrote the particle swarm optimization algorithm in Julia, and I tried to use Threads to accelerate the computation for each population.\nHere is the code</p>\n<pre><code>function uniform(dim::Int, lb::Array{Float64, 1}, ub::Array{Float64, 1})\n    arr = rand(Float64, dim)\n    @inbounds for i in 1:dim; arr[i] = arr[i] * (ub[i] - lb[i]) + lb[i] end\n    return arr\nend\n\nfunction initialize_particles(problem, population)\n    dim = problem.dim\n    lb = problem.lb\n    ub = problem.ub\n    cost_func = problem.cost_func\n\n    gbest_position = uniform(dim, lb, ub)\n    gbest = Gbest(gbest_position, cost_func(gbest_position))\n\n    particles = []\n    for i in 1:population\n        position = uniform(dim, lb, ub)\n        velocity = zeros(dim)\n        cost = cost_func(position)\n        best_position = copy(position)\n        best_cost = copy(cost)\n        push!(particles, Particle(position, velocity, cost, best_position, best_cost))\n\n        if best_cost &lt; gbest.cost\n            gbest.position = copy(best_position)\n            gbest.cost = copy(best_cost)\n        end\n    end\n    return gbest, particles\nend\n\nfunction PSO(problem; max_iter=100,population=100,c1=1.4962,c2=1.4962,w=0.7298,wdamp=1.0)\n    dim = problem.dim\n    lb = problem.lb\n    ub = problem.ub\n    cost_func = problem.cost_func\n\n    gbest, particles = initialize_particles(problem, population)\n\n    # main loop\n    for iter in 1:max_iter\n        @threads for i in 1:population\n            particles[i].velocity .= w .* particles[i].velocity .+\n                c1 .* rand(dim) .* (particles[i].best_position .- particles[i].position) .+\n                c2 .* rand(dim) .* (gbest.position .- particles[i].position)\n\n            particles[i].position .= particles[i].position .+ particles[i].velocity\n            particles[i].position .= max.(particles[i].position, lb)\n            particles[i].position .= min.(particles[i].position, ub)\n\n            particles[i].cost = cost_func(particles[i].position)\n\n            if particles[i].cost &lt; particles[i].best_cost\n                particles[i].best_position = copy(particles[i].position)\n                particles[i].best_cost = copy(particles[i].cost)\n        \n                if particles[i].best_cost &lt; gbest.cost\n                    gbest.position = copy(particles[i].best_position)\n                    gbest.cost = copy(particles[i].best_cost)\n                end\n            end\n        end\n        w = w * wdamp\n        if iter % 50 == 1\n            println(&quot;Iteration &quot; * string(iter) * &quot;: Best Cost = &quot; * string(gbest.cost))\n            println(&quot;Best Position = &quot; * string(gbest.position))\n            println()\n        end\n    end\n    gbest, particles\nend\n</code></pre>\n<p>Obviously, it is not thread-safe in main loop of PSO. This is because the position of gbest needs to be modified when computing.\nI tried to use Atomic, but the position of each particle is an array. So this method is not suitable.\nThe Lock needs initialization, so it also won't work.\nI also tried to use Floop, but it went wrong.</p>\n<p>So is there a way to make sure the data is locked when doing parallel computation?</p>\n<p>Thank you for your time!</p>\n<p>Wang</p>\n"},{"tags":["dataframe","julia"],"owner":{"reputation":339,"user_id":9720263,"user_type":"registered","profile_image":"https://i.stack.imgur.com/b6fUu.png?s=128&g=1","display_name":"pp492","link":"https://stackoverflow.com/users/9720263/pp492"},"is_answered":true,"view_count":36,"accepted_answer_id":64760080,"answer_count":1,"score":2,"last_activity_date":1604961183,"creation_date":1604957891,"question_id":64759616,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64759616/transform-function-on-all-columns-of-dataframe","title":"transform function on all columns of dataframe","body":"<p>I have a dataframe <code>df</code> and I am trying to apply a function to each of the cells. According to the <a href=\"https://juliadata.github.io/DataFrames.jl/stable/man/split_apply_combine/\" rel=\"nofollow noreferrer\">documentation</a> I should use the <code>transform</code> function.</p>\n<p>The function should be applied to each column so I use <code>[:]</code> as a selector for all columns</p>\n<pre><code>transform(\n    df, [:] .=&gt; ByRow(x -&gt; (if (x &gt; 1) x else zero(Float64) end)) .=&gt; [:]\n)\n</code></pre>\n<p>but it yields an exception</p>\n<pre><code>ArgumentError: Unrecognized column selector: Colon() =&gt; (DataFrames.ByRow{Main.workspace293.var&quot;#1#2&quot;}(Main.workspace293.var&quot;#1#2&quot;()) =&gt; Colon())\n</code></pre>\n<p>although when I am using a single column, it works fine</p>\n<pre><code>transform(\n    df, [:K0] .=&gt; ByRow(x -&gt; (if (x &gt; 1) x else zero(Float64) end)) .=&gt; [:K0]\n)\n</code></pre>\n"},{"tags":["function","arguments","julia"],"owner":{"reputation":559,"user_id":4723902,"user_type":"registered","profile_image":"https://lh4.googleusercontent.com/-vfG8ulwYyrU/AAAAAAAAAAI/AAAAAAAAABU/gSDYYJLNjew/photo.jpg?sz=128","display_name":"Davi Barreira","link":"https://stackoverflow.com/users/4723902/davi-barreira"},"is_answered":true,"view_count":51,"answer_count":2,"score":4,"last_activity_date":1604962259,"creation_date":1604949999,"last_edit_date":1604954580,"question_id":64758052,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64758052/julia-how-to-pass-kwargs-from-a-function-to-a-macro","title":"Julia - How to pass kwargs from a function to a macro","body":"<p>You can define a function to pass its keyword arguments to inner functions like this:</p>\n<pre><code>function example(data;xcol,ycol,kwargs...)\n    DoSomething(; spec=:EX, x=xcol, y=ycol, kwargs...)\nend\n</code></pre>\n<p>Now, the function <code>DoSomething</code> accepts many arguments, such as <code>color</code>. This works for functions, but I'd like to do this with a macro from VegaLite.jl:</p>\n<pre><code>function example(data;xcol,ycol,kwargs...)\n    @vlplot(data=data,mark=:point, x=xcol, y=ycol,kwargs...)\nend\nexample(df,xcol=:Miles_per_Gallon, ycol=:Horsepower, color=:Origin)\n</code></pre>\n<p>Note that the code above does not work.</p>\n"},{"tags":["python","julia","pycall"],"owner":{"reputation":119,"user_id":5035672,"user_type":"registered","accept_rate":86,"profile_image":"https://www.gravatar.com/avatar/430493fa0300ddb6930641c0afcd88d7?s=128&d=identicon&r=PG","display_name":"ChrlTsr","link":"https://stackoverflow.com/users/5035672/chrltsr"},"is_answered":false,"view_count":22,"answer_count":0,"score":1,"last_activity_date":1605185802,"creation_date":1604948890,"last_edit_date":1605185802,"question_id":64757817,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64757817/error-when-using-animation-py-on-julia-1-5-2","title":"Error when using animation.py on Julia 1.5.2","body":"<p>I use the first example of <a href=\"https://genkuroki.github.io/documents/Jupyter/20170624%20Examples%20of%20animations%20in%20Julia%20by%20PyPlot%20and%20matplotlib.animation.html\" rel=\"nofollow noreferrer\">this link</a> to make a videos. On my previous Julia version before I changed computer, which was I think version 1.2, this worked fine.\nNow, everything works fine, until the last line</p>\n<pre><code>myanim[:save](&quot;testvid.mp4&quot;,writer=mywriter) \n</code></pre>\n<p>To which I get the error message:</p>\n<pre><code>ERROR: PyError ($(Expr(:escape, :(ccall(#= /Users/XX/.julia/packages/PyCall/BcTLp/src/pyfncall.jl:43 =# @pysym(:PyObject_Call), PyPtr, (PyPtr, PyPtr, PyPtr), o, pyargsptr, kw))))) &lt;class 'FileNotFoundError'&gt;\nFileNotFoundError(2, 'No such file or directory')\n  File &quot;/Users/XX/.julia/conda/3/lib/python3.8/site-packages/matplotlib/animation.py&quot;, line 1123, in save\n    with mpl.rc_context({'savefig.bbox': None}), \\\n  File &quot;/Users/XX/.julia/conda/3/lib/python3.8/contextlib.py&quot;, line 113, in __enter__\n    return next(self.gen)\n  File &quot;/Users/XX/.julia/conda/3/lib/python3.8/site-packages/matplotlib/animation.py&quot;, line 249, in saving\n    self.setup(fig, outfile, dpi, *args, **kwargs)\n  File &quot;/Users/XX/.julia/conda/3/lib/python3.8/site-packages/matplotlib/animation.py&quot;, line 338, in setup\n    self._run()\n  File &quot;/Users/XX/.julia/conda/3/lib/python3.8/site-packages/matplotlib/animation.py&quot;, line 348, in _run\n    self._proc = subprocess.Popen(\n  File &quot;/Users/XX/.julia/conda/3/lib/python3.8/subprocess.py&quot;, line 854, in __init__\n    self._execute_child(args, executable, preexec_fn, close_fds,\n  File &quot;/Users/XX/.julia/conda/3/lib/python3.8/subprocess.py&quot;, line 1702, in _execute_child\n    raise child_exception_type(errno_num, err_msg, err_filename)\n\nStacktrace:\n [1] pyerr_check at /Users/XX/.julia/packages/PyCall/BcTLp/src/exception.jl:62 [inlined] \n [2] pyerr_check at /Users/XX/.julia/packages/PyCall/BcTLp/src/exception.jl:66 [inlined]\n [3] _handle_error(::String) at /Users/XX/.julia/packages/PyCall/BcTLp/src/exception.jl:83\n [4] macro expansion at /Users/XX/.julia/packages/PyCall/BcTLp/src/exception.jl:97 [inlined]\n [5] #110 at /Users/XX/.julia/packages/PyCall/BcTLp/src/pyfncall.jl:43 [inlined]\n [6] disable_sigint at ./c.jl:446 [inlined]\n [7] __pycall! at /Users/XX/.julia/packages/PyCall/BcTLp/src/pyfncall.jl:42 [inlined]\n [8] _pycall!(::PyObject, ::PyObject, ::Tuple{String}, ::Int64, ::PyObject) at /Users/XX/.julia/packages/PyCall/BcTLp/src/pyfncall.jl:29\n [9] _pycall!(::PyObject, ::PyObject, ::Tuple{String}, ::Base.Iterators.Pairs{Symbol,PyObject,Tuple{Symbol},NamedTuple{(:writer,),Tuple{PyObject}}}) at /Users/XX/.julia/packages/PyCall/BcTLp/src/pyfncall.jl:11\n [10] #_#117 at /Users/XX/.julia/packages/PyCall/BcTLp/src/pyfncall.jl:86 [inlined]\n [11] top-level scope at REPL[137]:1\n</code></pre>\n<p>Does anyone know what is going on?</p>\n<p>The exact same code ran perfectly in the former Julia version.</p>\n"},{"tags":["function","julia","meta","code-reuse"],"owner":{"reputation":559,"user_id":4723902,"user_type":"registered","profile_image":"https://lh4.googleusercontent.com/-vfG8ulwYyrU/AAAAAAAAAAI/AAAAAAAAABU/gSDYYJLNjew/photo.jpg?sz=128","display_name":"Davi Barreira","link":"https://stackoverflow.com/users/4723902/davi-barreira"},"is_answered":false,"view_count":23,"answer_count":0,"score":1,"last_activity_date":1604945057,"creation_date":1604945057,"question_id":64756917,"content_license":"CC BY-SA 4.0","link":"https://stackoverflow.com/questions/64756917/julia-incrementally-modifying-a-function-with-another-functions","title":"Julia - Incrementally modifying a function with another functions","body":"<p>I'm developing a package in Julia. I was wondering how can one incrementally modify a function depending on parameters given by the user. For example, take a plotting library. I'll define many plot functions, such as scatter, histograms, etc. Now, all these functions can be augmented with a series of parameters, such as &quot;color&quot;, &quot;line width&quot;, &quot;plot size&quot;, etc.</p>\n<p>Now, what I'd like to do is something like this:\nDepending on the parameters that the user passes, the original plotting function should be modified accordingly:</p>\n<pre><code># Original function\nfunction StdPlot(x,y)\n   draw(axis1 = x, axis2 = y)\nend\n\nif &quot;color&quot; in kwargs\n   @add_color(StdPlot)\nend\n</code></pre>\n<p>Then, the @add_color macro would modify the original function to something like:</p>\n<pre><code>@add_color(StdPlot):\n   x_mod = [x,colorx]\n   y_mod = [y,colory]\n   draw(axis=x_mod,axis=y_mod)\n</code></pre>\n"}],"has_more":false,"quota_max":300,"quota_remaining":288}